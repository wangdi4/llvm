; Check that v32 and v64(expand from v32) builtins are used.

; Disable the test in debug build since CHECK64-SVML will be complicated.
; UNSUPPORTED: debug-build

; RUN: SATest -BUILD --config=%s.cfg -tsize=32 -cpuarch=skx -llvm-option=-print-after=sycl-kernel-relaxed-math -dump-llvm-file %t.32 2>&1 | FileCheck %s -check-prefix=CHECK32
; RUN: SATest -BUILD --config=%s.cfg -tsize=64 -cpuarch=skx -llvm-option=-print-after=sycl-kernel-relaxed-math -dump-llvm-file %t.64 2>&1 | FileCheck %s -check-prefix=CHECK64
; RUN: FileCheck %s --input-file=%t.32 -check-prefix=CHECK32-SVML
; RUN: FileCheck %s --input-file=%t.64 -check-prefix=CHECK64-SVML

; RUN: SATest -BUILD --config=%s.cfg -tsize=32 -cpuarch=core-avx2 -llvm-option=-print-after=sycl-kernel-relaxed-math 2>&1 | FileCheck %s -check-prefix=CHECK32
; RUN: SATest -BUILD --config=%s.cfg -tsize=64 -cpuarch=core-avx2 -llvm-option=-print-after=sycl-kernel-relaxed-math 2>&1 | FileCheck %s -check-prefix=CHECK64

; CHECK32: call{{.*}} <32 x float> @_Z6cos_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6exp_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z7exp2_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z8exp10_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6log_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z7log2_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6pow_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6sin_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6tan_rmDv32_f(<32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z9sincos_rmDv32_fPf(<32 x float> {{.*}}, {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6cos_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6exp_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z7exp2_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z8exp10_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6log_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z7log2_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6pow_rmDv32_fS_S_(<32 x float> {{.*}}, <32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6sin_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z6tan_rmDv32_fS_(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32: call{{.*}} <32 x float> @_Z9sincos_rmDv32_fPfS_(<32 x float> {{.*}}, {{.*}}, <32 x float> {{.*}})

; CHECK64: call{{.*}} <64 x float> @_Z6cos_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6exp_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z7exp2_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z8exp10_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6log_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z7log2_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6pow_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6sin_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6tan_rmDv64_f(<64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z9sincos_rmDv64_fPf(<64 x float> {{.*}}, {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6cos_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6exp_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z7exp2_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z8exp10_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6log_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z7log2_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6pow_rmDv64_fS_S_(<64 x float> {{.*}}, <64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6sin_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z6tan_rmDv64_fS_(<64 x float> {{.*}}, <64 x float> {{.*}})
; CHECK64: call{{.*}} <64 x float> @_Z9sincos_rmDv64_fPfS_(<64 x float> {{.*}}, {{.*}}, <64 x float> {{.*}})

; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_rm(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sincosf32_rm(<32 x float> {{.*}}, {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_rm(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_rm(<32 x float> {{.*}})
; CHECK32-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sincosf32_rm(<32 x float> {{.*}}, {{.*}})

; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_rm(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_rm(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sincosf32_rm(<32 x float> {{.*}}, {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sincosf32_rm(<32 x float> {{.*}}, {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_cosf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_expf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_exp10f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_logf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_log2f32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_rm(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_powf32_rm(<32 x float> {{.*}}, <32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sinf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_tanf32_rm(<32 x float> {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sincosf32_rm(<32 x float> {{.*}}, {{.*}})
; CHECK64-SVML: call{{.*}} intel_ocl_bicc_avx512 <32 x float> @__ocl_svml_{{[xz]}}0_sincosf32_rm(<32 x float> {{.*}}, {{.*}})

/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the LLVM insertelement instruction when it recieves short8 function
 * argument as input.
 * This instruction is NOT vectorizable.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
insertelement ( __global const float *in,
		__global float4 *out,  const short8 short8Arg1)
{
	int gid = get_global_id(0);
	// this actions are done to make sure that tmp3 is created and that
	// insertelement instruction is used on tmp3
	int tmp1 = short8Arg1.x;
	int tmp2 = short8Arg1.y;
	short8 tmp3;
	tmp3 = short8Arg1;
	tmp3.x = tmp1 + tmp2 + tmp3.x;
	out[gid] = as_float4(tmp3);
}

/*
 * Part of the control flow tests that check vectorization of control flow statements.
 *

 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
wia_57_alocaloadst
( __global  int *in,
	__global int8 *out)
{


		int gid=get_global_id(0);
		int  num=get_global_id(0);			//alloca random
		int x=314;							//alloca random
		int* point=&num;
		int* point2=&x;
		
		
		//printf("\n gid=%d  point2=%d\n",gid,*point2);
		int i,j;
		int temp;
		
		for (i=1;i<2000;i++)
		{
		
			if (x>num) {       //load unif x load unif num
			
				*point2=num;
				*point+=1+x;
			}
			else 
			{
				point2=&x;
				point=&x;   //load random.x
				out[gid]=out[gid]-(*point+i);
			}
			for (j=-100;j<2000;j++)
			{
				*point2=i+j;  //+*point2;
			
				if (j+i>256)
				{
					out[gid]=out[gid]+(int8) (*point2);
				}
			}	
			
		}
	
	
	out[gid] =out[gid] + (int8) *point;

}
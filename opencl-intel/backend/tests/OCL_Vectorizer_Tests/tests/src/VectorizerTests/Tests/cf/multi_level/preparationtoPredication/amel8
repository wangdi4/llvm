
 int test1( int k,int gid);
 int test2( int k,int gid);
 int test3( int k,int gid);

__kernel void amel8( __global const int *in,
		__global float2 *out)
{
	int gid = get_global_id(0);
	double2 sum=(0,0);
	int i,j;
		for (i=1;i<1000;i++)
		{
			if (gid==0)
			{
				sum.x=sum.x+=test1(in[gid],gid);
			}
			else if (gid==1)
			{
			    out[gid].y=sum.x+sum.y+gid+test3(in[gid],gid);
			}
			{
				sum.y=sum.y+test2(out[gid].x,gid);
			}
		}
	
	out[gid].x=sum.x+sum.y;
	
}


 int test1( int k,int gid)
{
	return test2(k,gid);
	
}

 int test2( int k, int gid)
{
	return gid+2;
	
}

 int test3( int k,int gid)
{
	return test2(k,gid);
	
}



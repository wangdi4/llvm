/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the OpenCL select instruction when it recieves uint4* arguments
 * produced by previous instructions.
 * This function is NOT vectorizable.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */

__kernel void
select_uint4_ptr
( __global const uint4 *in,
		__global uint *out, uint uintArg1)
{
	int gid = get_global_id(0);
	int i;
	
	uint4* tmp1 = (uint4*)(&in[gid]);
	uint4* tmp2 = tmp1 - gid;
	uint4* tmp3 = tmp1 + (15 * gid / 17);
	uint4* tmp4 = tmp3 + (gid / 7);
	uint4* tmp5 = uintArg1 ? tmp3 : tmp4;
	out[gid] =(uint) tmp5;
	if (out[gid]>10)
	{
		out[gid]=5050;
	}
	else
	{
		out[gid]=0;
		for (i=1;i<=100;i++)
		{
			out[gid]+=i;
			}
			
	}
	
}

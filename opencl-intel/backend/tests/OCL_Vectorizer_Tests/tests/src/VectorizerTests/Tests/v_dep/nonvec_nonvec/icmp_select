/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the LLVM NON vectorizable select instruction when it receives as input 2 uint16*
 * arguments produced by previous NON vectorizable icmp function.
 * select and icmp are NON vectorizable when they recieve as arguments pointers
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
icmp_select ( __global const uint *in,
		__global float2 *out)
{
	int gid = get_global_id(0);
	uint* arg1 = (uint*)in;
	uint* arg2 = arg1 + gid;
	uint* arg3 = arg1 + (gid - 18);
	uint* arg4 = arg1 + ((int)(gid / 4.164));
	int arg5 = arg3 > arg4;
	uint* arg6 = arg5 ? arg3 : arg4;
	uint* arg7 = arg6 < arg1 ? arg1 : arg6;
	uint* arg8 = arg7 > arg2 ? arg2 : arg7;
	out[gid].x = arg5;
	out[gid].y = *arg8;
}

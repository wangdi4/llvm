/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * General purpose of this test is test WIA phase as part of whole vectorizer.
 * Main purpose of test is to check corectness for efecctivness need to add performance mesuarement
 * Test UREM nstruction ( returns the remainder from the unsigned division of its two arguments.)
 * may be used for performance test
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *  
 *
 */
__kernel void
wia711andxoror(	__global  int *in,
		__global int *out)
{
	int gid = get_global_id(0);   			//id is consecutive
	long l_unif_value1_v=in[1];             //unif
	int3 i=0;
	int4 flag1=1,flag2=0;
	long rezult1=0,rezult2=0,rezult3=0,rezult4=gid;
	
	while (i.s1+i.s2 <1024)
	{
		rezult1=l_unif_value1_v;
		rezult1&=l_unif_value1_v;	
		if (flag1.s1>0 && flag2.s2<1)    //uniform
		{
			rezult2=l_unif_value1_v;  //unif
		}
		else if (flag1.s2>2 || flag2.s1<1)
		{
			flag2+=gid;  		//stride
			rezult3=rezult2 ;
		} 
		out[gid]=rezult4&rezult3 | 2;	
		i.s1++;
	}	
			
	out[gid]|=rezult1;
	//printf("\ngid=%d out=%d\n",gid,out[gid]);
	
	
}

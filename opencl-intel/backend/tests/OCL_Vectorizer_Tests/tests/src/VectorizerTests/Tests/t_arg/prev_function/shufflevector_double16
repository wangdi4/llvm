/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the LLVM shufflevector instruction when it recieves as input double16 arguments
 * produced by previous instructions.
 * This instruction is NOT vectorizable.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
shufflevector_double16 ( __global const float *in,
		__global double16 *out)
{
	int gid = get_global_id(0);
	double x = gid + 1043.85441045;
	double y = in[gid] + gid + 8000.00008;
	double z = convert_double(fast_length((float)(x * y))) + x - 795.0547546543;
	double w = as_double((float2)(in[gid] + 0.00001, gid - 0.00001));
	double16 vec1 = { x * x * y * z, z, y + w, w / z, x * y - w /z, z / x, y - w / x, y, x / y * w, y - x + w, w, x, y - z, z, z / w, w / z * y};
	double16 vec2 = vec1;
	vec2 = vec2 + vec2 * vec1;
	vec2.s01AE5B = vec2.s9C352F;
	out[gid] = vec2;
}

/*
 * Part of the control flow tests that check vectorization of control flow statements.
 *
 * Tests the do while statement reached after jumping from goto statement when the do while condition
 * depends on a ushort and only the do while depends on thread id.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
goto_do_while (	__global const float *in,
		__global float *out)
{
	int gid = get_global_id(0);

	ushort tmp1 = -1;

	goto label1;

	tmp1 = max(in[gid], 0.0f);

	label1:

	do {

		tmp1 += gid + 1;

	} while (tmp1 < 50);

	out[gid] = tmp1 * gid + in[gid];

}

__kernel void wia_54_trunc_to_r ( __global  long *in,__global int2 *out)
{
	int gid=get_global_id(0);
	
	long x=in[1];
	long y=in[gid];             //random
	long y_cons=1;
	long y_un_small=y_cons*2;  //stride
	int i,j;
	float sum=0;
	
	//calculate uniform y
	
	for (i=1;i<65537;i++)
	{
		y+=1;
		y+=i;
		y_un_small+=1;
		if (i%4 == 0)
		{
			y=y+1+i*2;
			y_un_small+=2;
		}
	}	  //y is uniform and greater then max int  y_un_small is uniform and < max int
	
	
	
	for (i=1;i<2000;i++)
	{
		for (j=200;j>1;j-=2)
		{
			out[gid].s0 +=y;
			out[gid].s1 -=y_un_small;
			
			y=y+1;
			y_un_small+=2;
			
			sum+=out[gid].s0 + out[gid].s1;
		
		}
	
	}
	
	
	out[gid].s0 +=y;
	out[gid].s1 -=y_un_small;
	
	
	

}
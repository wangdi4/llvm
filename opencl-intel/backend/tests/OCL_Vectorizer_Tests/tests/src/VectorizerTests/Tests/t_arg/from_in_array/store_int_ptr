/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the OpenCL store instruction when it recieves int* function argument
 * as input.
 * This function is NOT vectorizable.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */

__kernel void
store_int_ptr
( __global const int *in,
		__global int *out)
{
	int gid = get_global_id(0);
	int i;
	
	out[gid] = &in[gid];
	if (out[gid]>100)
	{
		out[gid]=0;
		for (i=1;i<1025;i++) {
			out[gid]+=i;
		}
		//printf("in the if gid=%d out[gid]=%d \n",gid,out[gid]);
	}
	else
	{
	
		for (i=i;i<1025;i++) {
			out[gid]+=i;
		}
		out[gid]=1025*1024/2;
	}	
}

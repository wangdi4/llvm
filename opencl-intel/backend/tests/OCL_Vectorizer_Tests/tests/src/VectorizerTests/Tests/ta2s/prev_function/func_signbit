/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the LLVM isnormal function when it recieves as input float16 produced by
 * previous instruction and called twice.
 * This instruction is NOT vectorizable.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
func_signbit (	__global const float *in,
		__global float16 *out)
{
	int gid = get_global_id(0);
	float x = gid;
	float y = max((float)gid, (float)(in[gid])) * in[gid];
	float z = fast_length(x * y);
	float w = fma(x, y, z) -y + x * z;
	double16 tmp = (double16) ( x, x, y - z, x * y + w, y + x -z * x, y, z, y, z, x * x * x, y * x * w, y + y, z - w, w - x - 1, y, w);
	long16 res1 = signbit(tmp);
	long16 res2 = signbit(tmp);
	out[gid] = convert_float16(res1 * res2);
}

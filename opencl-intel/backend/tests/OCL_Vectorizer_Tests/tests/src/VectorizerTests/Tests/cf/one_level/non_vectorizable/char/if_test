/*
 * Part of the control flow tests that check vectorization of control flow statements.
 *
 * Tests the LLVM br caused by if statement when its condition depends on char and does
 * depend on thread id.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
if_test (	__global const float *in,
		__global float *out,  const char charArg1)
{
	int gid = get_global_id(0);

	out[gid] = in[gid];

	if(gid  < UINT8_VEC1.s6) {
		out[gid] = charArg1 * CHAR1 ? CHAR1 : charArg1;
	}

	out[gid] = out[gid] - in[gid];
}

__kernel void
aatomic_func03
( __global   int *in,
		__global float2 *out)
{
	int gid = get_global_id(0);
	int i;
	float sum1=0;
	double sum2=0;
	float rez=1,tmp=0;
	int count=0;
	in[gid+33]=gid;
	
		
	if (gid>1)
	{
		sum1=atomic_xor(&in[gid],gid);
		for (i=1;i<100;)
		{
			i=atomic_inc(&in[gid+33]);
			//printf("\n gid=%d  in[gid]=%d i=%d\n",gid,in[gid],i);
			rez=atomic_xor(&in[gid],2)+atomic_xor(&in[gid],2);
			tmp=atomic_or(&in[gid],11) - atomic_dec(&in[gid])* atomic_dec(&in[gid]) ;
			sum1+=in[gid]+1;
			while (count<101) 
			{
				tmp=atomic_and(&in[gid],22)+tmp;
				sum2+=in[gid]+rez+atomic_max(&in[gid],gid+100)-in[gid]+tmp;
				count=count+2;
			}
			tmp=atomic_max(&in[gid],gid+100);
			sum2-=in[gid];
			while (count<201) 
			{
				tmp=atomic_min(&in[gid],2222);
				sum2+=in[gid]+rez;
				count=count+3;
			}
			count=10;
			tmp=atomic_inc(&in[gid]);
			sum1+=in[gid]+tmp;
			tmp=atomic_dec(&in[gid]);
			sum2+=in[gid];
			
		}
		
		
	
	
	}
	
	else
	
	
	{
		for (i=10000;i>100;i+=2)
		{
			i=atomic_dec(&in[gid]+33);
			rez=atomic_xor(&in[gid],2);
			tmp=atomic_or(&in[gid],11);
			sum1+=in[gid];
			
			tmp=atomic_max(&in[gid],gid+100);
			sum2-=in[gid];
			
			count=10;
			tmp=atomic_inc(&in[gid]);
			sum1+=in[gid]+tmp;
			tmp=atomic_dec(&in[gid]);
			sum2+=in[gid];
			out[gid].x =out[gid].x+sum1;	
		}
		
	
	}
	
	
	
	
	
	
	
	
	
	out[gid].y =out[gid].y+sum2;
}
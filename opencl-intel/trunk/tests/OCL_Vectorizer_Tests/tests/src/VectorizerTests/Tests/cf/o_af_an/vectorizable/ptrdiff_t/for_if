/*
 * Part of the control flow tests that check vectorization of control flow statements.
 *
 * Tests the if statement after the for statement statement when both their conditions
 * depend on pointer and none of them depend on thread id.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */

__kernel void
for_if ( __global const float *in,
		__global float *out,  const int  intPtrArg1)
{
	int gid = get_global_id(0);

	int tmp1 = 0;

	for (ptrdiff_t i = 0;(int) i < min( intPtrArg1,(int) (ptrdiff_t)1024); i++) {
		tmp1 += max(gid, (int) i) -  intPtrArg1;
		tmp1 -= ((int)i )/ 4;
	}

	if (tmp1 >= intPtrArg1 + 1024) {

		tmp1 += gid;
	}

	out[gid] =  tmp1;


}

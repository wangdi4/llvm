// Tests inttoptr and bitselect instructions during wia execution
// The 'inttoptr' instruction converts an integer value to a pointer type, ty2.





__kernel void wia_29_inttopoin(__global int *in,__global int4 *out,const ptrdiff_t intPtrArg1)
{
	int gid=get_global_id(0);	
	int i=2,j,k,l;
	out[gid] = 0;    //UNIFORM
	
	
	int * c = (int*) intPtrArg1+gid+in[gid];  //rand
	// this add is done to make sure that inttoptr will be used (on c)
	c = c + gid;
	out[gid] = as_float((int) c)+gid;
	
	//printf ("\n gid=%d p_val=%f  p_adr=%p\n",gid,&p,p);
	
	
	
	
	
	for (i=1;i<256;i++)   //i=256
	{
		

		
		//printf("\n gid=%d i=%d  \n",gid,i);
			for (j=1;j<23;j++)
			{
			
				
				
					c = (int*) intPtrArg1+in[gid];
					c=c+i;
					out[gid]+=as_float((int) c);
				
			}
		
	}
	
	

}
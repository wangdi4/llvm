/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * General purpose of this test is test WIA phase as part of whole vectorizer.
 * Main purpose of test is to check corectness for efecctivness need to add performance mesuarement
 * Test UREM nstruction ( returns the remainder from the unsigned division of its two arguments.)
 * may be used for performance test
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *  
 *
 */
__kernel void
wia_74andorxor(	__global  int *in,
		__global int *out)
{
	int gid = get_global_id(0);   			//id is consecutive
	int un_value=1,un_value2=in[0];			// uniform
	
	long l_unif_value1_v=in[1];             //unif
	long l_unif_value2_v=in[gid];           //rnd
	long l_unif_value3_v=gid;               //cons
	long l_unif_value4_v=gid*3;             //stride
	
	int uns_unif_value1=10; 			   //unif_v
	int uns_unif_value2=gid;            // cons_v
	
	
	int3 i=0;
	int j;
	int4 flag1=1,flag2=0;
	
	long rezult1,rezult2,rezult3,rezult4=gid,rezult5=in[0];
	
	
	while (i.s1+i.s2 <1024)
	{
		rezult1=l_unif_value1_v;
		rezult1&=l_unif_value1_v;
		
		if (flag1.s1>0 && flag2.s2<1)    //uniform
		{
			flag1=3;					//uniform
			rezult2=l_unif_value1_v & l_unif_value2_v;  //unif
		}
		else if (flag1.s2>2 || flag2.s1<1)
		{
			flag2+=gid;  		//stride
			rezult3=rezult2 & l_unif_value1_v | l_unif_value3_v;
		}
		rezult4&=gid;  //
		out[gid]=rezult4&rezult3 | 2;
		
		
		i.s1++;
		i.s2+=2;
	}	
	
	
	
	
	
	out[gid]|=rezult1;
	
	
}

/*
 * Part of the control flow tests that check vectorization of control flow statements.
 *
 * Tests the if statement inseide the LLVM switch instruction when both their conditions
 * depend on uint and only the if statement depends on thread id.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
switch_if (	__global const float *in,
		__global float *out)
{
	int gid = get_global_id(0);

	uint tmp1 = in[gid] * ULONG1 + in[0];
	uint tmp2 = in[0];

	float tmp3 = - 323.75136;

	switch (tmp2 % 3) {

	case 0:

		if (tmp2 % 2 == 0) {
			tmp2++;
			out[gid] = tmp3 * tmp2;
		}
		tmp3 =tmp3/4.54514589;
		tmp2 = nextafter(tmp3, tmp1 * tmp2);
		break;

	case 1:
		tmp3 = -1274;
		//fall throuch

	case 2:
		if (tmp1 > 1000) {
			tmp3 = powr(convert_float(tmp1), convert_float(tmp2));
			out[gid] = tmp3;
		}
		tmp3 =tmp3 + in[gid];
		break;

	default:
		tmp3=tmp3+1.;
		if (in[tmp1] >= 0) {
			tmp3 = dot(in[tmp2], tmp3);
			out[gid] = tmp3 - 5;
		}
		tmp3 = fast_length(tmp3 * in[1]);
		break;

	}

	out[gid] += tmp3;
}

/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * General purpose of this test is test WIA phase as part of whole vectorizer.
 * Main purpose of test is to check corectness for efecctivness need to add performance mesuarement
 * Test extractelement instruction 
 * 
 * may be used for performance test
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *  
 *
 */
__kernel void
wia_63_inselem(	__global  double *in,
		__global double16 *out)
{
	int gid = get_global_id(0);   			//id is consecutive
	int un_value=1,un_value2=in[0];			// uniform
	
	float8 l_unif_value0_v=2;                //unif
	float8 l_unif_value1_v=in[1];             //unif
	float8 l_unif_value2_v=in[gid];           //rnd
	float8 l_unif_value3_v=gid;               //cons
	float8 l_unif_value4_v=gid*3;             //stride
	int index=1;                            //uniform index
	int index2=gid;							//cons
	
	int uns_unif_value1=10; 			   //unif_v
	int uns_unif_value2=gid;            // cons_v
	long ans1,ans2,ans3;
	
	
	int3 i=0;
	int j;
	int4 flag1=1,flag2=0;
	
	double16 rezult1=0,rezult2=gid,rezult3=in[0]+gid+1,rezult4=gid,rezult5=in[0];
	
	for (i.s1=1;i.s1<1000;i.s1++)
	{
	
		for (i.s2=1;i.s2<512;i.s2++)
		{
			for (i.s0=1;i.s0<1000;i.s0++)
			{
			rezult1.s1=l_unif_value2_v.s1+1 ;	//unif*uniform
			rezult2.s2-=l_unif_value4_v.s1 ;	//stride*uniform
			rezult2.s3*=l_unif_value4_v.s1 ;	//rnd*unifotm
			out[gid].s7=i.s1+j+gid;
			}
			
		}
		rezult3=rezult1+rezult2;		
	}
	
	
	
	//printf("\n gid=%d out=%f\n",gid,rezult1+rezult2+rezult3);
	out[gid]=rezult1+rezult2+rezult3;
}

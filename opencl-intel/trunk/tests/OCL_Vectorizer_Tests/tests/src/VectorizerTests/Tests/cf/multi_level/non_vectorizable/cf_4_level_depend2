/*
 * Part of the control flow tests that check vectorization of control flow statements.
 *
 * Tests vectorization of 20 levels that don't depend on thread id - shouldn't be vectorized.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */
__kernel void
cf_4_level_depend2 ( __global const float *in,
		__global float *out)
{
	int gid = get_global_id(0);
	long sum = 0;
	long sum_in = 0;
	

	for (int i = 0; i < 10; i++) {
		for (int j = 0; j < 10; j++) {
			 sum_in = gid+i*j*j + (int) in[gid]+sum;
			for (int k = 0; k < 10; k++) {
				for (int m = 0; m < 10; m++) {	
					//printf("\n m=%d\n",m);
					sum+=i*j+k*m+gid;
					out[gid+1]= sum*sum_in+i-k;
				}
			}
		}	
	}
	out[gid]=out[gid] - (float) (sum+gid+sum_in);

}	
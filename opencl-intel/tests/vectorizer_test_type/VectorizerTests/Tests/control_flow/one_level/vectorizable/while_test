/*
 * Part of the control flow tests that check vectorization of control flow statements.
 * Tests the LLVM br caused by while statement when its condition depends on float and doesn't
 * depend on thread id.
 *
 * @param in
 *     The input array.
 * @param out
 *     The output array.
 *
 */
__kernel void
while_test (  __global const float *in,
    __global float *out)
{
  int gid = get_global_id(0);

  float tmp1 = in[0];

  while (in[2] > in[1] + tmp1) {

    tmp1 = (tmp1 * tmp1) + 1;
  }

  out[gid] = tmp1 - 7;

}

/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the LLVM sdiv instruction when it recieves as input short16 arguments
 * produced by previous instructions.
 * This instruction is vectorizable.
 *
 * @param in
 *     The input array.
 * @param out
 *     The output array.
 *
 */
__kernel void
sdiv ( __global const float *in,
    __global float16 *out)
{
  int gid = get_global_id(0);
  int x = fmax((float)gid, in[gid]);
  int y = in[gid];
  int z = x + y * in[gid] - gid;
  int w = acos(in[gid]);
  int16 tmp1 = { x, y, z, w, w + x, w + y, w * z, y -x, y - w, y - z, x * y, x * w, x * z, (int)(z / w), (int)(z / x), (int)(z / y)};
  int16 tmp2 = tmp1 * 2;
  tmp2.s8 = tmp1.s4 * 6;
  tmp2.sA = tmp2.s2 + tmp1.s9;
  out[gid] = convert_float16(tmp2 / tmp1);
}

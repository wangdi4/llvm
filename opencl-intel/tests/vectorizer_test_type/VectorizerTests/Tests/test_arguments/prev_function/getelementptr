/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the OpenCL getelementptr instruction when it recieves float16* function argument
 * as input.
 * This function is NOT vectorizable.
 *
 * @param in
 *     The input array.
 * @param out
 *     The output array.
 *
 */

__kernel void
getelementptr
( __global const double2 *in,
    __global double2 *out)
{
  int gid = get_global_id(0);
  int tmp = max(0, gid - 2);
  int* tmp2 = (int*)in;
  tmp2 = tmp2 + 1;
  int tmp4 = gid;
  tmp4 = tmp4 / gid;
  tmp2 = tmp2 - tmp4;
  out[gid] = tmp2[tmp];
}

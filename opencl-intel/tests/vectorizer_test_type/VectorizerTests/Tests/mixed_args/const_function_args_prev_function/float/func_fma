/*
 * Part of the tests that check different LLVM instructions on different argument
 * types and different argument sources.
 *
 * Tests the OpenCL fma function when it recieves float constant
 * and float argument produced by previous instructions and float
 * function argument as input.
 * This function is vectorizable.
 *
 * @param in
 * 		The input array.
 * @param out
 * 		The output array.
 *
 */

__kernel void
func_fma
( __global const float *in,
		__global float *out, __global const float floatArg1)
{
	int gid = get_global_id(0);
	float tmp =  log1p(fabs(in[gid] - 16)) / max(gid, 3);
	out[gid] = fma(floatArg1, FLOAT1, tmp);
}

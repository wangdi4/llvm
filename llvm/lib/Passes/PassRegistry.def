//===- PassRegistry.def - Registry of passes --------------------*- C++ -*-===//
//
// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//
//
// This file is used as the registry of passes that are part of the core LLVM
// libraries. This file describes both transformation passes and analyses
// Analyses are registered while transformation passes have names registered
// that can be used when providing a textual pass pipeline.
//
//===----------------------------------------------------------------------===//

// NOTE: NO INCLUDE GUARD DESIRED!

#ifndef MODULE_ANALYSIS
#define MODULE_ANALYSIS(NAME, CREATE_PASS)
#endif
MODULE_ANALYSIS("callgraph", CallGraphAnalysis())
#if INTEL_INCLUDE_DTRANS
MODULE_ANALYSIS("dtransanalysis", DTransAnalysis())    // INTEL
#endif // INTEL_INCLUDE_DTRANS
MODULE_ANALYSIS("inlineaggressive", InlineAggAnalysis())    // INTEL
MODULE_ANALYSIS("lcg", LazyCallGraphAnalysis())
MODULE_ANALYSIS("module-summary", ModuleSummaryIndexAnalysis())
MODULE_ANALYSIS("no-op-module", NoOpModuleAnalysis())
MODULE_ANALYSIS("profile-summary", ProfileSummaryAnalysis())
MODULE_ANALYSIS("stack-safety", StackSafetyGlobalAnalysis())
MODULE_ANALYSIS("wholeprogram", WholeProgramAnalysis())     // INTEL
MODULE_ANALYSIS("xm-module-opt-level", XmainOptLevelAnalysis()) // INTEL
MODULE_ANALYSIS("verify", VerifierAnalysis())
MODULE_ANALYSIS("pass-instrumentation", PassInstrumentationAnalysis(PIC))
MODULE_ANALYSIS("asan-globals-md", ASanGlobalsMetadataAnalysis())
#if INTEL_CUSTOMIZATION
MODULE_ANALYSIS("xm-optreport-options", OptReportOptionsAnalysis())
#endif // INTEL_CUSTOMIZATION

#ifndef MODULE_ALIAS_ANALYSIS
#define MODULE_ALIAS_ANALYSIS(NAME, CREATE_PASS)                               \
  MODULE_ANALYSIS(NAME, CREATE_PASS)
#endif
MODULE_ALIAS_ANALYSIS("globals-aa", GlobalsAA())
MODULE_ALIAS_ANALYSIS("anders-aa", AndersensAA())    // INTEL
#undef MODULE_ALIAS_ANALYSIS
#undef MODULE_ANALYSIS

#ifndef MODULE_PASS
#define MODULE_PASS(NAME, CREATE_PASS)
#endif
MODULE_PASS("always-inline", AlwaysInlinerPass())
MODULE_PASS("attributor", AttributorPass())
MODULE_PASS("called-value-propagation", CalledValuePropagationPass())
MODULE_PASS("canonicalize-aliases", CanonicalizeAliasesPass())
MODULE_PASS("cg-profile", CGProfilePass())
MODULE_PASS("constmerge", ConstantMergePass())
MODULE_PASS("cross-dso-cfi", CrossDSOCFIPass())
MODULE_PASS("deadargelim", DeadArgumentEliminationPass())
#if INTEL_INCLUDE_DTRANS
MODULE_PASS("dtrans-aostosoa", dtrans::AOSToSOAPass())           // INTEL
MODULE_PASS("dtrans-deletefield", dtrans::DeleteFieldPass())     // INTEL
MODULE_PASS("dtrans-reorderfields", dtrans::ReorderFieldsPass()) // INTEL
MODULE_PASS("dtrans-resolvetypes", dtrans::ResolveTypesPass())   // INTEL
MODULE_PASS("dtrans-dynclone", dtrans::DynClonePass())           // INTEL
MODULE_PASS("dtrans-soatoaos-prepare", dtrans::SOAToAOSPreparePass()) // INTEL
MODULE_PASS("dtrans-soatoaos", dtrans::SOAToAOSPass())           // INTEL
MODULE_PASS("dtrans-weakalign", dtrans::WeakAlignPass())         // INTEL
MODULE_PASS("dtrans-paddedmalloc", dtrans::PaddedMallocPass())   // INTEL
MODULE_PASS("padded-pointer-prop", PaddedPtrPropPass())          // INTEL
MODULE_PASS("dtrans-elim-ro-field-access",                       // INTEL
            dtrans::EliminateROFieldAccessPass())                // INTEL
MODULE_PASS("dtrans-meminittrimdown", dtrans::MemInitTrimDownPass()) // INTEL
MODULE_PASS("dtrans-transpose", dtrans::TransposePass())         // INTEL
#if !INTEL_PRODUCT_RELEASE
MODULE_PASS("dtrans-optbasetest", dtrans::OptBaseTestPass()) // INTEL
#endif // !INTEL_PRODUCT_RELEASE
#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)
MODULE_PASS("soatoaos-arrays-methods-transform",                 // INTEL
            dtrans::SOAToAOSArrayMethodsTransformDebug())        // INTEL
MODULE_PASS("soatoaos-struct-methods-transform",                 // INTEL
            dtrans::SOAToAOSStructMethodsTransformDebug())       // INTEL
#endif // !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)
MODULE_PASS("dtrans-annotator-cleaner", dtrans::AnnotatorCleanerPass()) // INTEL
#endif // INTEL_INCLUDE_DTRANS
MODULE_PASS("elim-avail-extern", EliminateAvailableExternallyPass())
MODULE_PASS("forceattrs", ForceFunctionAttrsPass())
MODULE_PASS("function-import", FunctionImportPass())
MODULE_PASS("function-splitting", FunctionSplittingPass()) // INTEL
MODULE_PASS("globaldce", GlobalDCEPass())
MODULE_PASS("globalopt", GlobalOptPass())
MODULE_PASS("globalsplit", GlobalSplitPass())
MODULE_PASS("hotcoldsplit", HotColdSplittingPass())
MODULE_PASS("hwasan", HWAddressSanitizerPass(false, false))
MODULE_PASS("khwasan", HWAddressSanitizerPass(true, true))
MODULE_PASS("inferattrs", InferFunctionAttrsPass())
MODULE_PASS("insert-gcov-profiling", GCOVProfilerPass())
MODULE_PASS("instrorderfile", InstrOrderFilePass())
MODULE_PASS("instrprof", InstrProfiling())
MODULE_PASS("internalize", InternalizePass())
MODULE_PASS("invalidate<all>", InvalidateAllAnalysesPass())
MODULE_PASS("ip-cloning", IPCloningPass(/*AfterInl*/ false,             // INTEL
                                        /*IFSwitchHeuristic*/ false))   // INTEL
MODULE_PASS("intel-partialinline", IntelPartialInlinePass())            // INTEL
MODULE_PASS("post-inline-ip-cloning", IPCloningPass(/*AfterInl*/ true,  // INTEL
                                        /*IFSwitchHeuristic*/ false))   // INTEL
MODULE_PASS("call-tree-clone", CallTreeCloningPass())                   // INTEL
MODULE_PASS("dopevectorconstprop", DopeVectorConstPropPass())           // INTEL
MODULE_PASS("ipsccp", IPSCCPPass())
MODULE_PASS("lowertypetests", LowerTypeTestsPass(nullptr, nullptr))
MODULE_PASS("name-anon-globals", NameAnonGlobalPass())
MODULE_PASS("no-op-module", NoOpModulePass())
MODULE_PASS("optimize-dyn-casts", OptimizeDynamicCastsPass())
MODULE_PASS("partial-inliner", PartialInlinerPass())
MODULE_PASS("pgo-icall-prom", PGOIndirectCallPromotion())
MODULE_PASS("pgo-instr-gen", PGOInstrumentationGen())
MODULE_PASS("pgo-instr-use", PGOInstrumentationUse())
MODULE_PASS("pre-isel-intrinsic-lowering", PreISelIntrinsicLoweringPass())
MODULE_PASS("print-profile-summary", ProfileSummaryPrinterPass(dbgs()))
MODULE_PASS("print-callgraph", CallGraphPrinterPass(dbgs()))
MODULE_PASS("print", PrintModulePass(dbgs()))
MODULE_PASS("print-lcg", LazyCallGraphPrinterPass(dbgs()))
MODULE_PASS("print-lcg-dot", LazyCallGraphDOTPrinterPass(dbgs()))
MODULE_PASS("print-stack-safety", StackSafetyGlobalPrinterPass(dbgs()))
MODULE_PASS("rewrite-statepoints-for-gc", RewriteStatepointsForGC())
MODULE_PASS("rewrite-symbols", RewriteSymbolPass())
MODULE_PASS("rpo-functionattrs", ReversePostOrderFunctionAttrsPass())
MODULE_PASS("sample-profile", SampleProfileLoaderPass())
MODULE_PASS("strip-dead-prototypes", StripDeadPrototypesPass())
MODULE_PASS("synthetic-counts-propagation", SyntheticCountsPropagation())
MODULE_PASS("wholeprogramdevirt", WholeProgramDevirtPass(nullptr, nullptr))
MODULE_PASS("verify", VerifierPass())
MODULE_PASS("asan-module", ModuleAddressSanitizerPass(/*CompileKernel=*/false, false, true, false))
MODULE_PASS("msan-module", MemorySanitizerPass({}))
MODULE_PASS("tsan-module", ThreadSanitizerPass())
MODULE_PASS("kasan-module", ModuleAddressSanitizerPass(/*CompileKernel=*/true, false, true, false))
MODULE_PASS("sancov-module", ModuleSanitizerCoveragePass())
MODULE_PASS("poison-checking", PoisonCheckingPass())
MODULE_PASS("inlinelists", InlineListsPass()) // INTEL
MODULE_PASS("inlinereportsetup", InlineReportSetupPass()) // INTEL
MODULE_PASS("inlinereportemitter", InlineReportEmitterPass()) // INTEL
MODULE_PASS("intel-advancedfastcall", IntelAdvancedFastCallPass()) // INTEL
MODULE_PASS("intel-ipoprefetch", IntelIPOPrefetchPass()) // INTEL
#if INTEL_COLLAB
MODULE_PASS("vpo-paropt", VPOParoptPass())
MODULE_PASS("vpo-paropt-tpv", VPOParoptTpvLegacyPass())
#endif // INTEL_COLLAB
#undef MODULE_PASS

#ifndef CGSCC_ANALYSIS
#define CGSCC_ANALYSIS(NAME, CREATE_PASS)
#endif
CGSCC_ANALYSIS("no-op-cgscc", NoOpCGSCCAnalysis())
CGSCC_ANALYSIS("fam-proxy", FunctionAnalysisManagerCGSCCProxy())
CGSCC_ANALYSIS("pass-instrumentation", PassInstrumentationAnalysis(PIC))
#undef CGSCC_ANALYSIS

#ifndef CGSCC_PASS
#define CGSCC_PASS(NAME, CREATE_PASS)
#endif
CGSCC_PASS("argpromotion", ArgumentPromotionPass())
CGSCC_PASS("invalidate<all>", InvalidateAllAnalysesPass())
CGSCC_PASS("function-attrs", PostOrderFunctionAttrsPass())
CGSCC_PASS("inline", InlinerPass())
CGSCC_PASS("no-op-cgscc", NoOpCGSCCPass())
#undef CGSCC_PASS

#ifndef FUNCTION_ANALYSIS
#define FUNCTION_ANALYSIS(NAME, CREATE_PASS)
#endif
FUNCTION_ANALYSIS("aa", AAManager())
FUNCTION_ANALYSIS("assumptions", AssumptionAnalysis())
FUNCTION_ANALYSIS("block-freq", BlockFrequencyAnalysis())
FUNCTION_ANALYSIS("branch-prob", BranchProbabilityAnalysis())
FUNCTION_ANALYSIS("domtree", DominatorTreeAnalysis())
FUNCTION_ANALYSIS("postdomtree", PostDominatorTreeAnalysis())
FUNCTION_ANALYSIS("demanded-bits", DemandedBitsAnalysis())
FUNCTION_ANALYSIS("domfrontier", DominanceFrontierAnalysis())
FUNCTION_ANALYSIS("loops", LoopAnalysis())
FUNCTION_ANALYSIS("lazy-value-info", LazyValueAnalysis())
FUNCTION_ANALYSIS("da", DependenceAnalysis())
FUNCTION_ANALYSIS("memdep", MemoryDependenceAnalysis())
FUNCTION_ANALYSIS("memoryssa", MemorySSAAnalysis())
FUNCTION_ANALYSIS("phi-values", PhiValuesAnalysis())
FUNCTION_ANALYSIS("regions", RegionInfoAnalysis())
FUNCTION_ANALYSIS("no-op-function", NoOpFunctionAnalysis())
FUNCTION_ANALYSIS("opt-remark-emit", OptimizationRemarkEmitterAnalysis())
FUNCTION_ANALYSIS("scalar-evolution", ScalarEvolutionAnalysis())
FUNCTION_ANALYSIS("stack-safety-local", StackSafetyAnalysis())
FUNCTION_ANALYSIS("targetlibinfo", TargetLibraryAnalysis())
FUNCTION_ANALYSIS("targetir",
                  TM ? TM->getTargetIRAnalysis() : TargetIRAnalysis())
FUNCTION_ANALYSIS("verify", VerifierAnalysis())
FUNCTION_ANALYSIS("pass-instrumentation", PassInstrumentationAnalysis(PIC))

#if INTEL_INCLUDE_DTRANS
#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)
FUNCTION_ANALYSIS("soatoaos-approx", dtrans::SOAToAOSApproximationDebug())              // INTEL
FUNCTION_ANALYSIS("soatoaos-array-methods", dtrans::SOAToAOSArrayMethodsCheckDebug())   // INTEL
FUNCTION_ANALYSIS("soatoaos-struct-methods", dtrans::SOAToAOSStructMethodsCheckDebug()) // INTEL
#endif // !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)
#endif // INTEL_INCLUDE_DTRANS

#if INTEL_CUSTOMIZATION
FUNCTION_ANALYSIS("xm-opt-level", XmainOptLevelAnalysis())
FUNCTION_ANALYSIS("xm-optreport-options", OptReportOptionsAnalysis())
FUNCTION_ANALYSIS("hir-region-identification", loopopt::HIRRegionIdentificationAnalysis())
FUNCTION_ANALYSIS("hir-scc-formation", loopopt::HIRSCCFormationAnalysis())
FUNCTION_ANALYSIS("hir-framework", loopopt::HIRFrameworkAnalysis())
FUNCTION_ANALYSIS("hir-loop-statistics", loopopt::HIRLoopStatisticsAnalysis())
FUNCTION_ANALYSIS("hir-loop-resource", loopopt::HIRLoopResourceAnalysis())
FUNCTION_ANALYSIS("hir-locality-analysis", loopopt::HIRLoopLocalityAnalysis())
FUNCTION_ANALYSIS("hir-dd-analysis", loopopt::HIRDDAnalysisPass())
FUNCTION_ANALYSIS("hir-safe-reduction-analysis", loopopt::HIRSafeReductionAnalysisPass())
FUNCTION_ANALYSIS("hir-sparse-array-reduction-analysis", loopopt::HIRSparseArrayReductionAnalysisPass())
FUNCTION_ANALYSIS("hir-parvec-analysis", loopopt::HIRParVecAnalysisPass())
#endif // INTEL_CUSTOMIZATION
#if INTEL_COLLAB
FUNCTION_ANALYSIS("vpo-wrncollection", WRegionCollectionAnalysis())
FUNCTION_ANALYSIS("vpo-wrninfo", WRegionInfoAnalysis())
#endif // INTEL_COLLAB

#ifndef FUNCTION_ALIAS_ANALYSIS
#define FUNCTION_ALIAS_ANALYSIS(NAME, CREATE_PASS)                             \
  FUNCTION_ANALYSIS(NAME, CREATE_PASS)
#endif
FUNCTION_ALIAS_ANALYSIS("basic-aa", BasicAA())
FUNCTION_ALIAS_ANALYSIS("cfl-anders-aa", CFLAndersAA())
FUNCTION_ALIAS_ANALYSIS("cfl-steens-aa", CFLSteensAA())
FUNCTION_ALIAS_ANALYSIS("scev-aa", SCEVAA())
FUNCTION_ALIAS_ANALYSIS("scoped-noalias-aa", ScopedNoAliasAA())
FUNCTION_ALIAS_ANALYSIS("type-based-aa", TypeBasedAA())
FUNCTION_ALIAS_ANALYSIS("std-container-aa", StdContainerAA()) // INTEL
#undef FUNCTION_ALIAS_ANALYSIS
#undef FUNCTION_ANALYSIS

#ifndef FUNCTION_PASS
#define FUNCTION_PASS(NAME, CREATE_PASS)
#endif
FUNCTION_PASS("aa-eval", AAEvaluator())
FUNCTION_PASS("adce", ADCEPass())
FUNCTION_PASS("add-discriminators", AddDiscriminatorsPass())
FUNCTION_PASS("aggressive-instcombine", AggressiveInstCombinePass())
FUNCTION_PASS("alignment-from-assumptions", AlignmentFromAssumptionsPass())
FUNCTION_PASS("bdce", BDCEPass())
FUNCTION_PASS("bounds-checking", BoundsCheckingPass())
FUNCTION_PASS("break-crit-edges", BreakCriticalEdgesPass())
FUNCTION_PASS("callsite-splitting", CallSiteSplittingPass())
FUNCTION_PASS("tbaa-prop", TbaaMDPropagationPass())        // INTEL
FUNCTION_PASS("cleanup-fakeloads", CleanupFakeLoadsPass()) // INTEL
FUNCTION_PASS("consthoist", ConstantHoistingPass())
FUNCTION_PASS("chr", ControlHeightReductionPass())
FUNCTION_PASS("convert-to-subscript", ConvertGEPToSubscriptIntrinsicPass()) // INTEL
FUNCTION_PASS("correlated-propagation", CorrelatedValuePropagationPass())
FUNCTION_PASS("dce", DCEPass())
FUNCTION_PASS("div-rem-pairs", DivRemPairsPass())
FUNCTION_PASS("dse", DSEPass())
FUNCTION_PASS("dot-cfg", CFGPrinterPass())
FUNCTION_PASS("dot-cfg-only", CFGOnlyPrinterPass())
FUNCTION_PASS("early-cse", EarlyCSEPass(/*UseMemorySSA=*/false))
FUNCTION_PASS("early-cse-memssa", EarlyCSEPass(/*UseMemorySSA=*/true))
FUNCTION_PASS("ee-instrument", EntryExitInstrumenterPass(/*PostInlining=*/false))
FUNCTION_PASS("make-guards-explicit", MakeGuardsExplicitPass())
FUNCTION_PASS("fma-splitter", FMASplitterPass()) // INTEL
FUNCTION_PASS("post-inline-ee-instrument", EntryExitInstrumenterPass(/*PostInlining=*/true))
FUNCTION_PASS("gvn-hoist", GVNHoistPass())
FUNCTION_PASS("indirectcallconv", IndirectCallConvPass(/* UseAndersen = */ false, /* UseDTrans = */ false)) // INTEL
FUNCTION_PASS("instcombine", InstCombinePass())
FUNCTION_PASS("instsimplify", InstSimplifyPass())
FUNCTION_PASS("invalidate<all>", InvalidateAllAnalysesPass())
FUNCTION_PASS("float2int", Float2IntPass())
FUNCTION_PASS("no-op-function", NoOpFunctionPass())
FUNCTION_PASS("libcalls-shrinkwrap", LibCallsShrinkWrapPass())
FUNCTION_PASS("loweratomic", LowerAtomicPass())
FUNCTION_PASS("lower-expect", LowerExpectIntrinsicPass())
FUNCTION_PASS("lower-guard-intrinsic", LowerGuardIntrinsicPass())
FUNCTION_PASS("lower-constant-intrinsics", LowerConstantIntrinsicsPass())
FUNCTION_PASS("lower-widenable-condition", LowerWidenableConditionPass())
FUNCTION_PASS("lower-subscript", LowerSubscriptIntrinsicPass()) // INTEL
FUNCTION_PASS("guard-widening", GuardWideningPass())
FUNCTION_PASS("gvn", GVN())
FUNCTION_PASS("load-store-vectorizer", LoadStoreVectorizerPass())
FUNCTION_PASS("loop-simplify", LoopSimplifyPass())
FUNCTION_PASS("loop-sink", LoopSinkPass())
FUNCTION_PASS("lowerinvoke", LowerInvokePass())
FUNCTION_PASS("mem2reg", PromotePass())
FUNCTION_PASS("memcpyopt", MemCpyOptPass())
FUNCTION_PASS("mergeicmps", MergeICmpsPass())
FUNCTION_PASS("multiversioning", MultiVersioningPass()) // INTEL
FUNCTION_PASS("nary-reassociate", NaryReassociatePass())
FUNCTION_PASS("newgvn", NewGVNPass())
FUNCTION_PASS("nonltoglobalopt", NonLTOGlobalOptPass()) // INTEL
FUNCTION_PASS("jump-threading", JumpThreadingPass())
FUNCTION_PASS("partially-inline-libcalls", PartiallyInlineLibCallsPass())
FUNCTION_PASS("lcssa", LCSSAPass())
FUNCTION_PASS("loop-data-prefetch", LoopDataPrefetchPass())
FUNCTION_PASS("loop-load-elim", LoopLoadEliminationPass())
FUNCTION_PASS("loop-fuse", LoopFusePass())
FUNCTION_PASS("loop-distribute", LoopDistributePass())
FUNCTION_PASS("pgo-memop-opt", PGOMemOPSizeOpt())
FUNCTION_PASS("print", PrintFunctionPass(dbgs()))
FUNCTION_PASS("print<assumptions>", AssumptionPrinterPass(dbgs()))
FUNCTION_PASS("print<block-freq>", BlockFrequencyPrinterPass(dbgs()))
FUNCTION_PASS("print<branch-prob>", BranchProbabilityPrinterPass(dbgs()))
FUNCTION_PASS("print<da>", DependenceAnalysisPrinterPass(dbgs()))
FUNCTION_PASS("print<domtree>", DominatorTreePrinterPass(dbgs()))
FUNCTION_PASS("print<postdomtree>", PostDominatorTreePrinterPass(dbgs()))
FUNCTION_PASS("print<demanded-bits>", DemandedBitsPrinterPass(dbgs()))
FUNCTION_PASS("print<domfrontier>", DominanceFrontierPrinterPass(dbgs()))
FUNCTION_PASS("print<loops>", LoopPrinterPass(dbgs()))
FUNCTION_PASS("print<memoryssa>", MemorySSAPrinterPass(dbgs()))
FUNCTION_PASS("print<phi-values>", PhiValuesPrinterPass(dbgs()))
FUNCTION_PASS("print<regions>", RegionInfoPrinterPass(dbgs()))
FUNCTION_PASS("print<scalar-evolution>", ScalarEvolutionPrinterPass(dbgs()))
FUNCTION_PASS("print<stack-safety-local>", StackSafetyPrinterPass(dbgs()))
FUNCTION_PASS("reassociate", ReassociatePass())
FUNCTION_PASS("scalarizer", ScalarizerPass())
FUNCTION_PASS("sccp", SCCPPass())
FUNCTION_PASS("sink", SinkingPass())
FUNCTION_PASS("slp-vectorizer", SLPVectorizerPass())
FUNCTION_PASS("speculative-execution", SpeculativeExecutionPass())
FUNCTION_PASS("spec-phis", SpeculateAroundPHIsPass())
FUNCTION_PASS("sroa", SROA())
FUNCTION_PASS("tailcallelim", TailCallElimPass())
FUNCTION_PASS("unreachableblockelim", UnreachableBlockElimPass())
FUNCTION_PASS("verify", VerifierPass())
FUNCTION_PASS("verify<domtree>", DominatorTreeVerifierPass())
FUNCTION_PASS("verify<loops>", LoopVerifierPass())
FUNCTION_PASS("verify<memoryssa>", MemorySSAVerifierPass())
FUNCTION_PASS("verify<regions>", RegionInfoVerifierPass())
FUNCTION_PASS("verify<safepoint-ir>", SafepointIRVerifierPass())
FUNCTION_PASS("view-cfg", CFGViewerPass())
FUNCTION_PASS("view-cfg-only", CFGOnlyViewerPass())
FUNCTION_PASS("transform-warning", WarnMissedTransformationsPass())
FUNCTION_PASS("asan", AddressSanitizerPass(false, false, false))
FUNCTION_PASS("kasan", AddressSanitizerPass(true, false, false))
FUNCTION_PASS("msan", MemorySanitizerPass({}))

#if INTEL_CUSTOMIZATION
FUNCTION_PASS("load-coalescing", LoadCoalescingPass())
FUNCTION_PASS("hir-ssa-deconstruction", loopopt::HIRSSADeconstructionPass())
FUNCTION_PASS("print<hir-region-identification>", loopopt::HIRRegionIdentificationPrinterPass(dbgs()))
FUNCTION_PASS("print<hir-scc-formation>", loopopt::HIRSCCFormationPrinterPass(dbgs()))
FUNCTION_PASS("print<hir-framework>", loopopt::HIRFrameworkPrinterPass(dbgs(), true))
FUNCTION_PASS("verify<hir-framework>", loopopt::HIRFrameworkVerifierPass())
FUNCTION_PASS("print<hir>", loopopt::HIRFrameworkPrinterPass(dbgs(), false))
FUNCTION_PASS("verify<hir>", loopopt::HIRFrameworkVerifierPass())
FUNCTION_PASS("print<hir-loop-statistics>", loopopt::HIRLoopStatisticsPrinterPass(dbgs()))
FUNCTION_PASS("print<hir-loop-resource>", loopopt::HIRLoopResourcePrinterPass(dbgs()))
FUNCTION_PASS("print<hir-locality-analysis>", loopopt::HIRLoopLocalityPrinterPass(dbgs()))
FUNCTION_PASS("print<hir-dd-analysis>", loopopt::HIRDDAnalysisPrinterPass(dbgs()))
FUNCTION_PASS("print<hir-safe-reduction-analysis>", loopopt::HIRSafeReductionAnalysisPrinterPass(dbgs()))
FUNCTION_PASS("print<hir-sparse-array-reduction-analysis>", loopopt::HIRSparseArrayReductionAnalysisPrinterPass(dbgs()))
FUNCTION_PASS("hir-recognize-par-loop", loopopt::HIRRecognizeParLoopPass())
FUNCTION_PASS("hir-dead-store-elimination", loopopt::HIRDeadStoreEliminationPass())
FUNCTION_PASS("hir-optreport-emitter", loopopt::HIROptReportEmitterPass())
FUNCTION_PASS("hir-cg", loopopt::HIRCodeGenPass())
FUNCTION_PASS("hir-temp-cleanup", loopopt::HIRTempCleanupPass())
FUNCTION_PASS("hir-propagate-casted-iv", loopopt::HIRPropagateCastedIVPass())
FUNCTION_PASS("hir-array-transpose", loopopt::HIRArrayTransposePass())
FUNCTION_PASS("hir-aos-to-soa", loopopt::HIRAosToSoaPass())
FUNCTION_PASS("hir-general-unroll", loopopt::HIRGeneralUnrollPass())
FUNCTION_PASS("hir-idiom", loopopt::HIRIdiomRecognitionPass())
FUNCTION_PASS("hir-lmm", loopopt::HIRLMMPass())
FUNCTION_PASS("hir-last-value-computation", loopopt::HIRLastValueComputationPass())
FUNCTION_PASS("hir-loop-collapse", loopopt::HIRLoopCollapsePass())
FUNCTION_PASS("hir-loop-concatenation", loopopt::HIRLoopConcatenationPass())
FUNCTION_PASS("hir-loop-distribute-loopnest", loopopt::HIRLoopDistributionForLoopNestPass())
FUNCTION_PASS("hir-loop-distribute-memrec", loopopt::HIRLoopDistributionForMemRecPass())
FUNCTION_PASS("hir-loop-fusion", loopopt::HIRLoopFusionPass())
FUNCTION_PASS("hir-loop-interchange", loopopt::HIRLoopInterchangePass())
FUNCTION_PASS("hir-loop-rematerialize", loopopt::HIRLoopRematerializePass())
FUNCTION_PASS("hir-loop-reversal", loopopt::HIRLoopReversalPass())
FUNCTION_PASS("hir-loop-reroll", loopopt::HIRLoopRerollPass())
FUNCTION_PASS("hir-mv-const-ub", loopopt::HIRMVForConstUBPass())
FUNCTION_PASS("hir-opt-predicate", loopopt::HIROptPredicatePass())
FUNCTION_PASS("hir-opt-var-predicate", loopopt::HIROptVarPredicatePass())
FUNCTION_PASS("hir-post-vec-complete-unroll", loopopt::HIRPostVecCompleteUnrollPass())
FUNCTION_PASS("hir-pre-vec-complete-unroll", loopopt::HIRPreVecCompleteUnrollPass())
FUNCTION_PASS("hir-runtime-dd", loopopt::HIRRuntimeDDPass())
FUNCTION_PASS("hir-scalarrepl-array", loopopt::HIRScalarReplArrayPass())
FUNCTION_PASS("hir-unroll-and-jam", loopopt::HIRUnrollAndJamPass())
FUNCTION_PASS("hir-vec-dir-insert", loopopt::HIRVecDirInsertPass())
FUNCTION_PASS("hir-loop-blocking", loopopt::HIRLoopBlockingPass())
FUNCTION_PASS("hir-generate-mkl-call", loopopt::HIRGenerateMKLCallPass())
FUNCTION_PASS("intel-ir-optreport-emitter", LoopOptReportEmitterPass())
FUNCTION_PASS("vpo-directive-cleanup", VPODirectiveCleanupPass())
FUNCTION_PASS("addsub-reassociate", AddSubReassociatePass())
FUNCTION_PASS("loop-carried-cse", LoopCarriedCSEPass())
FUNCTION_PASS("hir-multi-exit-loop-reroll", loopopt::HIRMultiExitLoopRerollPass())
FUNCTION_PASS("hir-identity-matrix-idiom-recognition", loopopt::HIRIdentityMatrixIdiomRecognitionPass())
FUNCTION_PASS("hir-prefetching", loopopt::HIRPrefetchingPass())
FUNCTION_PASS("iv-split", IVSplitPass())
FUNCTION_PASS("hir-sinking-for-perfect-loopnest", loopopt::HIRSinkingForPerfectLoopnestPass())
FUNCTION_PASS("hir-undo-sinking-for-perfect-loopnest", loopopt::HIRUndoSinkingForPerfectLoopnestPass())
FUNCTION_PASS("hir-conditional-temp-sinking", loopopt::HIRConditionalTempSinkingPass())
FUNCTION_PASS("hir-memory-reduction-sinking", loopopt::HIRMemoryReductionSinkingPass())

#endif // INTEL_CUSTOMIZATION
#if INTEL_COLLAB
FUNCTION_PASS("print<vpo-wrncollection>",
              WRegionCollectionAnalysisPrinterPass(dbgs()))
FUNCTION_PASS("vpo-cfg-restructuring", VPOCFGRestructuringPass())
FUNCTION_PASS("vpo-restore-operands", VPORestoreOperandsPass())
FUNCTION_PASS("vpo-paropt-prepare", VPOParoptPreparePass())
#endif // INTEL_COLLAB
FUNCTION_PASS("kmsan", MemorySanitizerPass({0, false, /*Kernel=*/true}))
FUNCTION_PASS("tsan", ThreadSanitizerPass())
#undef FUNCTION_PASS

#ifndef FUNCTION_PASS_WITH_PARAMS
#define FUNCTION_PASS_WITH_PARAMS(NAME, CREATE_PASS, PARSER)
#endif
FUNCTION_PASS_WITH_PARAMS("unroll",
                           [](LoopUnrollOptions Opts) {
                             return LoopUnrollPass(Opts);
                           },
                           parseLoopUnrollOptions)
FUNCTION_PASS_WITH_PARAMS("msan",
                           [](MemorySanitizerOptions Opts) {
                             return MemorySanitizerPass(Opts);
                           },
                           parseMSanPassOptions)
FUNCTION_PASS_WITH_PARAMS("simplify-cfg",
                           [](SimplifyCFGOptions Opts) {
                             return SimplifyCFGPass(Opts);
                           },
                           parseSimplifyCFGOptions)
FUNCTION_PASS_WITH_PARAMS("loop-vectorize",
                           [](LoopVectorizeOptions Opts) {
                             return LoopVectorizePass(Opts);
                           },
                           parseLoopVectorizeOptions)
FUNCTION_PASS_WITH_PARAMS("mldst-motion",
                           [](MergedLoadStoreMotionOptions Opts) {
                             return MergedLoadStoreMotionPass(Opts);
                           },
                           parseMergedLoadStoreMotionOptions)
#undef FUNCTION_PASS_WITH_PARAMS

#ifndef LOOP_ANALYSIS
#define LOOP_ANALYSIS(NAME, CREATE_PASS)
#endif
LOOP_ANALYSIS("no-op-loop", NoOpLoopAnalysis())
LOOP_ANALYSIS("access-info", LoopAccessAnalysis())
LOOP_ANALYSIS("ddg", DDGAnalysis())
LOOP_ANALYSIS("ivusers", IVUsersAnalysis())
LOOP_ANALYSIS("pass-instrumentation", PassInstrumentationAnalysis(PIC))
#undef LOOP_ANALYSIS

#ifndef LOOP_PASS
#define LOOP_PASS(NAME, CREATE_PASS)
#endif
LOOP_PASS("invalidate<all>", InvalidateAllAnalysesPass())
LOOP_PASS("licm", LICMPass())
LOOP_PASS("loop-idiom", LoopIdiomRecognizePass())
LOOP_PASS("loop-instsimplify", LoopInstSimplifyPass())
LOOP_PASS("rotate", LoopRotatePass())
LOOP_PASS("no-op-loop", NoOpLoopPass())
LOOP_PASS("print", PrintLoopPass(dbgs()))
LOOP_PASS("loop-deletion", LoopDeletionPass())
LOOP_PASS("simplify-cfg", LoopSimplifyCFGPass())
LOOP_PASS("strength-reduce", LoopStrengthReducePass())
LOOP_PASS("indvars", IndVarSimplifyPass())
LOOP_PASS("irce", IRCEPass())
LOOP_PASS("unroll-and-jam", LoopUnrollAndJamPass())
LOOP_PASS("unroll-full", LoopFullUnrollPass())
LOOP_PASS("print-access-info", LoopAccessInfoPrinterPass(dbgs()))
LOOP_PASS("print<ddg>", DDGAnalysisPrinterPass(dbgs()))
LOOP_PASS("print<ivusers>", IVUsersPrinterPass(dbgs()))
LOOP_PASS("print<loop-cache-cost>", LoopCachePrinterPass(dbgs()))
LOOP_PASS("loop-predication", LoopPredicationPass())
LOOP_PASS("guard-widening", GuardWideningPass())
#undef LOOP_PASS

#ifndef LOOP_PASS_WITH_PARAMS
#define LOOP_PASS_WITH_PARAMS(NAME, CREATE_PASS, PARSER)
#endif
LOOP_PASS_WITH_PARAMS("unswitch",
                           [](bool NonTrivial) {
                             return SimpleLoopUnswitchPass(NonTrivial);
                           },
                           parseLoopUnswitchOptions)
#undef LOOP_PASS_WITH_PARAMS

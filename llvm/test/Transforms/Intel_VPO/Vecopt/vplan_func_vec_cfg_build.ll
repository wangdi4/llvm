; NOTE: Assertions have been autogenerated by utils/intel_update_vplan_checks.py
; RUN: opt -S -passes=vplan-func-vec -print-after-vplan-func-vec-cfg-import < %s -disable-output | FileCheck %s
define void @test() {
; CHECK-LABEL:  VPlan IR for: test
; CHECK-NEXT:    [[BB0:BB[0-9]+]]: # preds:
; CHECK-NEXT:     i32 [[VP_LANE:%.*]] = induction-init{add} i32 0 i32 1
; CHECK-NEXT:     i32 [[VP_ADD:%.*]] = add i32 [[VP_LANE]] i32 42
; CHECK-NEXT:     ret
; CHECK-NEXT:     br <External Block>
;
  %lane = call i32 @llvm.vplan.laneid()
  %add = add i32 %lane, 42
  ret void
}

declare i32 @llvm.vplan.laneid()

; This module is used by import-function-referenced-by-global.ll

target datalayout = "e-m:e-i64:64-f80:128-n8:16:32:64-S128"
target triple = "x86_64-pc-win32-gnu-elf"

%opencl.image2d_ro_t = type opaque

@coord_translate_i_callback = constant [2 x <4 x i32> (i8*, <4 x i32>)*] [<4 x i32> (i8*, <4 x i32>)* @_Z41trans_coord_int_CLAMPTOEDGE_FALSE_NEARESTPvDv4_i, <4 x i32> (i8*, <4 x i32>)* @_Z25trans_coord_int_UNDEFINEDPvDv4_i], align 16

; Function Attrs: nounwind readnone
declare <4 x i32> @llvm.x86.sse41.pminsd(<4 x i32>, <4 x i32>)

; Function Attrs: norecurse nounwind readnone
define <4 x i32> @_Z3minDv4_iS_(<4 x i32> %x, <4 x i32> %y) {
entry:
  %0 = tail call <4 x i32> @llvm.x86.sse41.pminsd(<4 x i32> %x, <4 x i32> %y)
  ret <4 x i32> %0
}

; Function Attrs: norecurse nounwind readnone
define <4 x i32> @_Z3maxDv4_iS_(<4 x i32> %x, <4 x i32> %y) #0 {
entry:
  %0 = tail call <4 x i32> @llvm.x86.sse41.pmaxsd(<4 x i32> %x, <4 x i32> %y)
  ret <4 x i32> %0
}

; Function Attrs: nounwind readnone
declare <4 x i32> @llvm.x86.sse41.pmaxsd(<4 x i32>, <4 x i32>)

; Function Attrs: nounwind readonly
define <4 x i32> @_Z41trans_coord_int_CLAMPTOEDGE_FALSE_NEARESTPvDv4_i(i8* nocapture readonly %image, <4 x i32> %coord) {
entry:
  %dimSub1.i = getelementptr inbounds i8, i8* %image, i64 2640
  %0 = bitcast i8* %dimSub1.i to <4 x i32>*
  %1 = addrspacecast <4 x i32>* %0 to <4 x i32> addrspace(4)*
  %2 = load <4 x i32>, <4 x i32> addrspace(4)* %1, align 16
  %call.i = tail call <4 x i32> @_Z3minDv4_iS_(<4 x i32> %coord, <4 x i32> %2)
  %call1.i = tail call <4 x i32> @_Z3maxDv4_iS_(<4 x i32> %call.i, <4 x i32> zeroinitializer)
  ret <4 x i32> %call1.i
}

; Function Attrs: norecurse nounwind readnone
define <4 x i32> @_Z25trans_coord_int_UNDEFINEDPvDv4_i(i8* nocapture readnone %image, <4 x i32> %coord) {
entry:
  ret <4 x i32> zeroinitializer
}

; Function Attrs: norecurse nounwind readnone
define i8* @_Z11read_imagef14ocl_image2d_ro11ocl_samplerDv2_i(%opencl.image2d_ro_t addrspace(1)* %image, i32 %sampler, <2 x i32> %coord){
entry:
  %call.i = tail call i8* @call_coord_translate_i_callback(i32 %sampler)
  ret i8* %call.i
}

; Function Attrs: norecurse nounwind readnone
define i8* @call_coord_translate_i_callback(i32 %samplerIndex) {
entry:
  %idxprom = sext i32 %samplerIndex to i64
  %arrayidx = getelementptr [2 x <4 x i32> (i8*, <4 x i32>)*], [2 x <4 x i32> (i8*, <4 x i32>)*]* @coord_translate_i_callback, i64 0, i64 %idxprom
  %0 = bitcast <4 x i32> (i8*, <4 x i32>)** %arrayidx to i8**
  %1 = load i8*, i8** %0, align 8
  ret i8* %1
}

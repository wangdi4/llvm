; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 3
; RUN: llc -mtriple=x86_64-unknown-linux-gnu -mattr=+ndd %s -o - | FileCheck %s

define fastcc void @computeSSIM(i1 %cmp58.us, i1 %tobool552.not, i1 %cmp47.us, ptr %call38, ptr %imagedata407, i1 %hir.cmp.224.not, i8 %0) {
; CHECK:    addl $8, {{[-0-9]+}}(%r{{[sb]}}p) # 4-byte Folded Reload
entry:
  br label %for.cond46.preheader.us

for.cond46.preheader.us:                          ; preds = %ifmerge.1247, %entry
  br label %for.body50.us

for.body50.us:                                    ; preds = %ifmerge.1247, %for.cond46.preheader.us
  %indvars.iv1401 = phi i64 [ 0, %for.cond46.preheader.us ], [ %indvars.iv.next1402, %ifmerge.1247 ]
  %indvars.iv.next1402 = add i64 %indvars.iv1401, 8
  br label %loop.500

if.then553.us:                                    ; preds = %afterloop.500
  %1 = trunc i64 0 to i32
  br label %for.cond604.preheader.lr.ph.us

for.cond604.preheader.lr.ph.us:                   ; preds = %afterloop.500, %if.then553.us
  br label %loop.1246

loop.500:                                         ; preds = %ifmerge.224, %for.body50.us
  store double 0.000000e+00, ptr %call38, align 8
  store i8 0, ptr %imagedata407, align 1
  br i1 %cmp58.us, label %ifmerge.224, label %then.224

then.224:                                         ; preds = %loop.500
  %2 = tail call i32 (ptr, ptr, ...) null(ptr null, ptr null, i32 0, i32 0, i32 0, double 0.000000e+00, i32 0)
  br label %ifmerge.224

ifmerge.224:                                      ; preds = %then.224, %loop.500
  br i1 %cmp58.us, label %afterloop.500, label %loop.500

afterloop.500:                                    ; preds = %ifmerge.224
  br i1 %tobool552.not, label %if.then553.us, label %for.cond604.preheader.lr.ph.us

loop.1246:                                        ; preds = %loop.1246, %for.cond604.preheader.lr.ph.us
  %i2.i641542.0 = phi i64 [ 0, %for.cond604.preheader.lr.ph.us ], [ %nextivloop.1246, %loop.1246 ]
  %3 = trunc i64 %indvars.iv1401 to i32
  %4 = trunc i64 %i2.i641542.0 to i32
  %5 = add i32 %4, %3
  store i8 %0, ptr null, align 1
  %6 = or i32 %5, 1
  %nextivloop.1246 = add i64 %i2.i641542.0, 1
  br i1 %hir.cmp.224.not, label %ifmerge.1247, label %loop.1246

ifmerge.1247:                                     ; preds = %loop.1246
  br i1 %cmp47.us, label %for.body50.us, label %for.cond46.preheader.us
}

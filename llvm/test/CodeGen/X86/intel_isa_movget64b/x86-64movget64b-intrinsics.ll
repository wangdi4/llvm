; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; REQUIRES: intel_feature_isa_movget64b
; RUN: llc < %s -O0 -verify-machineinstrs -mtriple=x86_64-unknown-unknown --show-mc-encoding -mattr=+movget64b | FileCheck %s --check-prefixes=X64

define i64 @test_int_x86_movget64b64(i8* %A) {
; X64-LABEL: test_int_x86_movget64b64:
; X64:       # %bb.0:
; X64-NEXT:    movget64bq (%rdi), %rax # encoding: [0x48,0x0f,0x38,0xfa,0x07]
; X64-NEXT:    retq # encoding: [0xc3]
  %ret = call i64 @llvm.x86.movget64b64(i8* %A)
  ret i64 %ret
}
declare i64 @llvm.x86.movget64b64(i8* %A)

define i32 @test_int_x86_movget64b32(i8* %A) {
; X64-LABEL: test_int_x86_movget64b32:
; X64:       # %bb.0:
; X64-NEXT:    movget64bl (%rdi), %eax # encoding: [0x0f,0x38,0xfa,0x07]
; X64-NEXT:    retq # encoding: [0xc3]
  %ret = call i32 @llvm.x86.movget64b32(i8* %A)
  ret i32 %ret
}
declare i32 @llvm.x86.movget64b32(i8* %A)


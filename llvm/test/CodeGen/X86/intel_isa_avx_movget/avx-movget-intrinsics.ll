; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; REQUIRES: intel_feature_isa_avx_movget
; RUN: llc < %s -O0 -verify-machineinstrs -mtriple=x86_64-unknown-unknown --show-mc-encoding -mattr=+avx2,+avxmovget | FileCheck %s

define <4 x i32> @test_int_x86_vmovget128(i8* %A) {
; CHECK-LABEL: test_int_x86_vmovget128:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vmovget (%rdi), %xmm0 # encoding: [0xc4,0xe2,0x7a,0xc5,0x07]
; CHECK-NEXT:    retq # encoding: [0xc3]
  %ret = call <4 x i32> @llvm.x86.vmovget128(i8* %A)
  ret <4 x i32> %ret
}
declare <4 x i32> @llvm.x86.vmovget128(i8* %A)

define <8 x i32> @test_int_x86_vmovget256(i8* %A) {
; CHECK-LABEL: test_int_x86_vmovget256:
; CHECK:       # %bb.0:
; CHECK-NEXT:    vmovget (%rdi), %ymm0 # encoding: [0xc4,0xe2,0x7e,0xc5,0x07]
; CHECK-NEXT:    retq # encoding: [0xc3]
  %ret = call <8 x i32> @llvm.x86.vmovget256(i8* %A)
  ret <8 x i32> %ret
}
declare <8 x i32> @llvm.x86.vmovget256(i8* %A)

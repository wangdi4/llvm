# REQUIRES: intel_feature_isa_avx512_complex
# RUN: llvm-mc --disassemble %s -triple=i386 | FileCheck %s --check-prefixes=ATT
# RUN: llvm-mc --disassemble %s -triple=i386 -x86-asm-syntax=intel --output-asm-variant=1 | FileCheck %s --check-prefixes=INTEL

# ATT:   vaddsubpd %zmm4, %zmm3, %zmm2
# INTEL: vaddsubpd zmm2, zmm3, zmm4
0x62,0xf6,0xe5,0x48,0xd0,0xd4

# ATT:   vaddsubpd {rn-sae}, %zmm4, %zmm3, %zmm2
# INTEL: vaddsubpd zmm2, zmm3, zmm4, {rn-sae}
0x62,0xf6,0xe5,0x18,0xd0,0xd4

# ATT:   vaddsubpd %zmm4, %zmm3, %zmm2 {%k7}
# INTEL: vaddsubpd zmm2 {k7}, zmm3, zmm4
0x62,0xf6,0xe5,0x4f,0xd0,0xd4

# ATT:   vaddsubpd {rz-sae}, %zmm4, %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubpd zmm2 {k7} {z}, zmm3, zmm4, {rz-sae}
0x62,0xf6,0xe5,0xff,0xd0,0xd4

# ATT:   vaddsubpd  268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vaddsubpd zmm2, zmm3, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf6,0xe5,0x48,0xd0,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vaddsubpd  291(%edi,%eax,4), %zmm3, %zmm2 {%k7}
# INTEL: vaddsubpd zmm2 {k7}, zmm3, zmmword ptr [edi + 4*eax + 291]
0x62,0xf6,0xe5,0x4f,0xd0,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vaddsubpd  (%eax){1to8}, %zmm3, %zmm2
# INTEL: vaddsubpd zmm2, zmm3, qword ptr [eax]{1to8}
0x62,0xf6,0xe5,0x58,0xd0,0x10

# ATT:   vaddsubpd  -2048(,%ebp,2), %zmm3, %zmm2
# INTEL: vaddsubpd zmm2, zmm3, zmmword ptr [2*ebp - 2048]
0x62,0xf6,0xe5,0x48,0xd0,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vaddsubpd  8128(%ecx), %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubpd zmm2 {k7} {z}, zmm3, zmmword ptr [ecx + 8128]
0x62,0xf6,0xe5,0xcf,0xd0,0x51,0x7f

# ATT:   vaddsubpd  -1024(%edx){1to8}, %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubpd zmm2 {k7} {z}, zmm3, qword ptr [edx - 1024]{1to8}
0x62,0xf6,0xe5,0xdf,0xd0,0x52,0x80

# ATT:   vaddsubph %zmm4, %zmm3, %zmm2
# INTEL: vaddsubph zmm2, zmm3, zmm4
0x62,0xf6,0x64,0x48,0xd0,0xd4

# ATT:   vaddsubph {rn-sae}, %zmm4, %zmm3, %zmm2
# INTEL: vaddsubph zmm2, zmm3, zmm4, {rn-sae}
0x62,0xf6,0x64,0x18,0xd0,0xd4

# ATT:   vaddsubph %zmm4, %zmm3, %zmm2 {%k7}
# INTEL: vaddsubph zmm2 {k7}, zmm3, zmm4
0x62,0xf6,0x64,0x4f,0xd0,0xd4

# ATT:   vaddsubph {rz-sae}, %zmm4, %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubph zmm2 {k7} {z}, zmm3, zmm4, {rz-sae}
0x62,0xf6,0x64,0xff,0xd0,0xd4

# ATT:   vaddsubph  268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vaddsubph zmm2, zmm3, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf6,0x64,0x48,0xd0,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vaddsubph  291(%edi,%eax,4), %zmm3, %zmm2 {%k7}
# INTEL: vaddsubph zmm2 {k7}, zmm3, zmmword ptr [edi + 4*eax + 291]
0x62,0xf6,0x64,0x4f,0xd0,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vaddsubph  (%eax){1to32}, %zmm3, %zmm2
# INTEL: vaddsubph zmm2, zmm3, word ptr [eax]{1to32}
0x62,0xf6,0x64,0x58,0xd0,0x10

# ATT:   vaddsubph  -2048(,%ebp,2), %zmm3, %zmm2
# INTEL: vaddsubph zmm2, zmm3, zmmword ptr [2*ebp - 2048]
0x62,0xf6,0x64,0x48,0xd0,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vaddsubph  8128(%ecx), %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubph zmm2 {k7} {z}, zmm3, zmmword ptr [ecx + 8128]
0x62,0xf6,0x64,0xcf,0xd0,0x51,0x7f

# ATT:   vaddsubph  -256(%edx){1to32}, %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubph zmm2 {k7} {z}, zmm3, word ptr [edx - 256]{1to32}
0x62,0xf6,0x64,0xdf,0xd0,0x52,0x80

# ATT:   vaddsubps %zmm4, %zmm3, %zmm2
# INTEL: vaddsubps zmm2, zmm3, zmm4
0x62,0xf6,0x65,0x48,0xd0,0xd4

# ATT:   vaddsubps {rn-sae}, %zmm4, %zmm3, %zmm2
# INTEL: vaddsubps zmm2, zmm3, zmm4, {rn-sae}
0x62,0xf6,0x65,0x18,0xd0,0xd4

# ATT:   vaddsubps %zmm4, %zmm3, %zmm2 {%k7}
# INTEL: vaddsubps zmm2 {k7}, zmm3, zmm4
0x62,0xf6,0x65,0x4f,0xd0,0xd4

# ATT:   vaddsubps {rz-sae}, %zmm4, %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubps zmm2 {k7} {z}, zmm3, zmm4, {rz-sae}
0x62,0xf6,0x65,0xff,0xd0,0xd4

# ATT:   vaddsubps  268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vaddsubps zmm2, zmm3, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf6,0x65,0x48,0xd0,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vaddsubps  291(%edi,%eax,4), %zmm3, %zmm2 {%k7}
# INTEL: vaddsubps zmm2 {k7}, zmm3, zmmword ptr [edi + 4*eax + 291]
0x62,0xf6,0x65,0x4f,0xd0,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vaddsubps  (%eax){1to16}, %zmm3, %zmm2
# INTEL: vaddsubps zmm2, zmm3, dword ptr [eax]{1to16}
0x62,0xf6,0x65,0x58,0xd0,0x10

# ATT:   vaddsubps  -2048(,%ebp,2), %zmm3, %zmm2
# INTEL: vaddsubps zmm2, zmm3, zmmword ptr [2*ebp - 2048]
0x62,0xf6,0x65,0x48,0xd0,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vaddsubps  8128(%ecx), %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubps zmm2 {k7} {z}, zmm3, zmmword ptr [ecx + 8128]
0x62,0xf6,0x65,0xcf,0xd0,0x51,0x7f

# ATT:   vaddsubps  -512(%edx){1to16}, %zmm3, %zmm2 {%k7} {z}
# INTEL: vaddsubps zmm2 {k7} {z}, zmm3, dword ptr [edx - 512]{1to16}
0x62,0xf6,0x65,0xdf,0xd0,0x52,0x80

# ATT:   vmovdhdup %zmm3, %zmm2
# INTEL: vmovdhdup zmm2, zmm3
0x62,0xf1,0xff,0x48,0x16,0xd3

# ATT:   vmovdhdup %zmm3, %zmm2 {%k7}
# INTEL: vmovdhdup zmm2 {k7}, zmm3
0x62,0xf1,0xff,0x4f,0x16,0xd3

# ATT:   vmovdhdup %zmm3, %zmm2 {%k7} {z}
# INTEL: vmovdhdup zmm2 {k7} {z}, zmm3
0x62,0xf1,0xff,0xcf,0x16,0xd3

# ATT:   vmovdhdup  268435456(%esp,%esi,8), %zmm2
# INTEL: vmovdhdup zmm2, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf1,0xff,0x48,0x16,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vmovdhdup  291(%edi,%eax,4), %zmm2 {%k7}
# INTEL: vmovdhdup zmm2 {k7}, zmmword ptr [edi + 4*eax + 291]
0x62,0xf1,0xff,0x4f,0x16,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vmovdhdup  (%eax), %zmm2
# INTEL: vmovdhdup zmm2, zmmword ptr [eax]
0x62,0xf1,0xff,0x48,0x16,0x10

# ATT:   vmovdhdup  -2048(,%ebp,2), %zmm2
# INTEL: vmovdhdup zmm2, zmmword ptr [2*ebp - 2048]
0x62,0xf1,0xff,0x48,0x16,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vmovdhdup  8128(%ecx), %zmm2 {%k7} {z}
# INTEL: vmovdhdup zmm2 {k7} {z}, zmmword ptr [ecx + 8128]
0x62,0xf1,0xff,0xcf,0x16,0x51,0x7f

# ATT:   vmovdhdup  -8192(%edx), %zmm2 {%k7} {z}
# INTEL: vmovdhdup zmm2 {k7} {z}, zmmword ptr [edx - 8192]
0x62,0xf1,0xff,0xcf,0x16,0x52,0x80

# ATT:   vsubaddpd %zmm4, %zmm3, %zmm2
# INTEL: vsubaddpd zmm2, zmm3, zmm4
0x62,0xf6,0xe5,0x48,0xd1,0xd4

# ATT:   vsubaddpd {rn-sae}, %zmm4, %zmm3, %zmm2
# INTEL: vsubaddpd zmm2, zmm3, zmm4, {rn-sae}
0x62,0xf6,0xe5,0x18,0xd1,0xd4

# ATT:   vsubaddpd %zmm4, %zmm3, %zmm2 {%k7}
# INTEL: vsubaddpd zmm2 {k7}, zmm3, zmm4
0x62,0xf6,0xe5,0x4f,0xd1,0xd4

# ATT:   vsubaddpd {rz-sae}, %zmm4, %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddpd zmm2 {k7} {z}, zmm3, zmm4, {rz-sae}
0x62,0xf6,0xe5,0xff,0xd1,0xd4

# ATT:   vsubaddpd  268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vsubaddpd zmm2, zmm3, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf6,0xe5,0x48,0xd1,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vsubaddpd  291(%edi,%eax,4), %zmm3, %zmm2 {%k7}
# INTEL: vsubaddpd zmm2 {k7}, zmm3, zmmword ptr [edi + 4*eax + 291]
0x62,0xf6,0xe5,0x4f,0xd1,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vsubaddpd  (%eax){1to8}, %zmm3, %zmm2
# INTEL: vsubaddpd zmm2, zmm3, qword ptr [eax]{1to8}
0x62,0xf6,0xe5,0x58,0xd1,0x10

# ATT:   vsubaddpd  -2048(,%ebp,2), %zmm3, %zmm2
# INTEL: vsubaddpd zmm2, zmm3, zmmword ptr [2*ebp - 2048]
0x62,0xf6,0xe5,0x48,0xd1,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vsubaddpd  8128(%ecx), %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddpd zmm2 {k7} {z}, zmm3, zmmword ptr [ecx + 8128]
0x62,0xf6,0xe5,0xcf,0xd1,0x51,0x7f

# ATT:   vsubaddpd  -1024(%edx){1to8}, %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddpd zmm2 {k7} {z}, zmm3, qword ptr [edx - 1024]{1to8}
0x62,0xf6,0xe5,0xdf,0xd1,0x52,0x80

# ATT:   vsubaddph %zmm4, %zmm3, %zmm2
# INTEL: vsubaddph zmm2, zmm3, zmm4
0x62,0xf6,0x64,0x48,0xd1,0xd4

# ATT:   vsubaddph {rn-sae}, %zmm4, %zmm3, %zmm2
# INTEL: vsubaddph zmm2, zmm3, zmm4, {rn-sae}
0x62,0xf6,0x64,0x18,0xd1,0xd4

# ATT:   vsubaddph %zmm4, %zmm3, %zmm2 {%k7}
# INTEL: vsubaddph zmm2 {k7}, zmm3, zmm4
0x62,0xf6,0x64,0x4f,0xd1,0xd4

# ATT:   vsubaddph {rz-sae}, %zmm4, %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddph zmm2 {k7} {z}, zmm3, zmm4, {rz-sae}
0x62,0xf6,0x64,0xff,0xd1,0xd4

# ATT:   vsubaddph  268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vsubaddph zmm2, zmm3, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf6,0x64,0x48,0xd1,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vsubaddph  291(%edi,%eax,4), %zmm3, %zmm2 {%k7}
# INTEL: vsubaddph zmm2 {k7}, zmm3, zmmword ptr [edi + 4*eax + 291]
0x62,0xf6,0x64,0x4f,0xd1,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vsubaddph  (%eax){1to32}, %zmm3, %zmm2
# INTEL: vsubaddph zmm2, zmm3, word ptr [eax]{1to32}
0x62,0xf6,0x64,0x58,0xd1,0x10

# ATT:   vsubaddph  -2048(,%ebp,2), %zmm3, %zmm2
# INTEL: vsubaddph zmm2, zmm3, zmmword ptr [2*ebp - 2048]
0x62,0xf6,0x64,0x48,0xd1,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vsubaddph  8128(%ecx), %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddph zmm2 {k7} {z}, zmm3, zmmword ptr [ecx + 8128]
0x62,0xf6,0x64,0xcf,0xd1,0x51,0x7f

# ATT:   vsubaddph  -256(%edx){1to32}, %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddph zmm2 {k7} {z}, zmm3, word ptr [edx - 256]{1to32}
0x62,0xf6,0x64,0xdf,0xd1,0x52,0x80

# ATT:   vsubaddps %zmm4, %zmm3, %zmm2
# INTEL: vsubaddps zmm2, zmm3, zmm4
0x62,0xf6,0x65,0x48,0xd1,0xd4

# ATT:   vsubaddps {rn-sae}, %zmm4, %zmm3, %zmm2
# INTEL: vsubaddps zmm2, zmm3, zmm4, {rn-sae}
0x62,0xf6,0x65,0x18,0xd1,0xd4

# ATT:   vsubaddps %zmm4, %zmm3, %zmm2 {%k7}
# INTEL: vsubaddps zmm2 {k7}, zmm3, zmm4
0x62,0xf6,0x65,0x4f,0xd1,0xd4

# ATT:   vsubaddps {rz-sae}, %zmm4, %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddps zmm2 {k7} {z}, zmm3, zmm4, {rz-sae}
0x62,0xf6,0x65,0xff,0xd1,0xd4

# ATT:   vsubaddps  268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vsubaddps zmm2, zmm3, zmmword ptr [esp + 8*esi + 268435456]
0x62,0xf6,0x65,0x48,0xd1,0x94,0xf4,0x00,0x00,0x00,0x10

# ATT:   vsubaddps  291(%edi,%eax,4), %zmm3, %zmm2 {%k7}
# INTEL: vsubaddps zmm2 {k7}, zmm3, zmmword ptr [edi + 4*eax + 291]
0x62,0xf6,0x65,0x4f,0xd1,0x94,0x87,0x23,0x01,0x00,0x00

# ATT:   vsubaddps  (%eax){1to16}, %zmm3, %zmm2
# INTEL: vsubaddps zmm2, zmm3, dword ptr [eax]{1to16}
0x62,0xf6,0x65,0x58,0xd1,0x10

# ATT:   vsubaddps  -2048(,%ebp,2), %zmm3, %zmm2
# INTEL: vsubaddps zmm2, zmm3, zmmword ptr [2*ebp - 2048]
0x62,0xf6,0x65,0x48,0xd1,0x14,0x6d,0x00,0xf8,0xff,0xff

# ATT:   vsubaddps  8128(%ecx), %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddps zmm2 {k7} {z}, zmm3, zmmword ptr [ecx + 8128]
0x62,0xf6,0x65,0xcf,0xd1,0x51,0x7f

# ATT:   vsubaddps  -512(%edx){1to16}, %zmm3, %zmm2 {%k7} {z}
# INTEL: vsubaddps zmm2 {k7} {z}, zmm3, dword ptr [edx - 512]{1to16}
0x62,0xf6,0x65,0xdf,0xd1,0x52,0x80


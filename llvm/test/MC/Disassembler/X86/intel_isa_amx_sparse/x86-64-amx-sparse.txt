# REQUIRES: intel_feature_isa_amx_sparse

# isadb version: 7a8b649ba089c16135f1cc602a04b3ea8720bf4c

# RUN: llvm-mc --disassemble %s -triple=x86_64 | FileCheck %s --check-prefixes=ATT
# RUN: llvm-mc --disassemble %s -triple=x86_64 -x86-asm-syntax=intel --output-asm-variant=1 | FileCheck %s --check-prefixes=INTEL

# ATT:   tdpsbf16ps %tmm2, %tmm0, %tmm6
# INTEL: tdpsbf16ps tmm6, tmm0, tmm2
0xc4,0xe2,0xea,0x5c,0xf0

# ATT:   tdpsbf16ps %tmm0, %tmm2, %tmm5
# INTEL: tdpsbf16ps tmm5, tmm2, tmm0
0xc4,0xe2,0xfa,0x5c,0xea

# ATT:   tdpsbssd %tmm2, %tmm0, %tmm6
# INTEL: tdpsbssd tmm6, tmm0, tmm2
0xc4,0xe2,0xeb,0x5e,0xf0

# ATT:   tdpsbssd %tmm0, %tmm2, %tmm5
# INTEL: tdpsbssd tmm5, tmm2, tmm0
0xc4,0xe2,0xfb,0x5e,0xea

# ATT:   tdpsbsud %tmm2, %tmm0, %tmm6
# INTEL: tdpsbsud tmm6, tmm0, tmm2
0xc4,0xe2,0xea,0x5e,0xf0

# ATT:   tdpsbsud %tmm0, %tmm2, %tmm5
# INTEL: tdpsbsud tmm5, tmm2, tmm0
0xc4,0xe2,0xfa,0x5e,0xea

# ATT:   tdpsbusd %tmm2, %tmm0, %tmm6
# INTEL: tdpsbusd tmm6, tmm0, tmm2
0xc4,0xe2,0xe9,0x5e,0xf0

# ATT:   tdpsbusd %tmm0, %tmm2, %tmm5
# INTEL: tdpsbusd tmm5, tmm2, tmm0
0xc4,0xe2,0xf9,0x5e,0xea

# ATT:   tdpsbuud %tmm2, %tmm0, %tmm6
# INTEL: tdpsbuud tmm6, tmm0, tmm2
0xc4,0xe2,0xe8,0x5e,0xf0

# ATT:   tdpsbuud %tmm0, %tmm2, %tmm5
# INTEL: tdpsbuud tmm5, tmm2, tmm0
0xc4,0xe2,0xf8,0x5e,0xea

# ATT:   tdpsfp16ps %tmm2, %tmm0, %tmm6
# INTEL: tdpsfp16ps tmm6, tmm0, tmm2
0xc4,0xe2,0xeb,0x5c,0xf0

# ATT:   tdpsfp16ps %tmm0, %tmm2, %tmm5
# INTEL: tdpsfp16ps tmm5, tmm2, tmm0
0xc4,0xe2,0xfb,0x5c,0xea

# ATT:   tldexpandb %ecx, 268435456(%rbp,%r14,8), %tmm2
# INTEL: tldexpandb tmm2, [rbp + 8*r14 + 268435456], ecx
0xc4,0xa2,0x72,0x69,0x94,0xf5,0x00,0x00,0x00,0x10

# ATT:   tldexpandb %ecx, 291(%r8,%rax,4), %tmm0
# INTEL: tldexpandb tmm0, [r8 + 4*rax + 291], ecx
0xc4,0xc2,0x72,0x69,0x84,0x80,0x23,0x01,0x00,0x00

# ATT:   tldexpandb %ecx, (%rcx), %tmm2
# INTEL: tldexpandb tmm2, [rcx], ecx
0xc4,0xe2,0x72,0x69,0x14,0x21

# ATT:   tldexpandb %ecx, -32(,%rbp,2), %tmm0
# INTEL: tldexpandb tmm0, [2*rbp - 32], ecx
0xc4,0xe2,0x72,0x69,0x04,0x6d,0xe0,0xff,0xff,0xff

# ATT:   tldexpandbt1 %ecx, 268435456(%rbp,%r14,8), %tmm2
# INTEL: tldexpandbt1 tmm2, [rbp + 8*r14 + 268435456], ecx
0xc4,0xa2,0x73,0x69,0x94,0xf5,0x00,0x00,0x00,0x10

# ATT:   tldexpandbt1 %ecx, 291(%r8,%rax,4), %tmm0
# INTEL: tldexpandbt1 tmm0, [r8 + 4*rax + 291], ecx
0xc4,0xc2,0x73,0x69,0x84,0x80,0x23,0x01,0x00,0x00

# ATT:   tldexpandbt1 %ecx, (%rcx), %tmm2
# INTEL: tldexpandbt1 tmm2, [rcx], ecx
0xc4,0xe2,0x73,0x69,0x14,0x21

# ATT:   tldexpandbt1 %ecx, -32(,%rbp,2), %tmm0
# INTEL: tldexpandbt1 tmm0, [2*rbp - 32], ecx
0xc4,0xe2,0x73,0x69,0x04,0x6d,0xe0,0xff,0xff,0xff

# ATT:   tldexpandw %ecx, 268435456(%rbp,%r14,8), %tmm2
# INTEL: tldexpandw tmm2, [rbp + 8*r14 + 268435456], ecx
0xc4,0xa2,0x70,0x69,0x94,0xf5,0x00,0x00,0x00,0x10

# ATT:   tldexpandw %ecx, 291(%r8,%rax,4), %tmm0
# INTEL: tldexpandw tmm0, [r8 + 4*rax + 291], ecx
0xc4,0xc2,0x70,0x69,0x84,0x80,0x23,0x01,0x00,0x00

# ATT:   tldexpandw %ecx, (%rcx), %tmm2
# INTEL: tldexpandw tmm2, [rcx], ecx
0xc4,0xe2,0x70,0x69,0x14,0x21

# ATT:   tldexpandw %ecx, -32(,%rbp,2), %tmm0
# INTEL: tldexpandw tmm0, [2*rbp - 32], ecx
0xc4,0xe2,0x70,0x69,0x04,0x6d,0xe0,0xff,0xff,0xff

# ATT:   tldexpandwt1 %ecx, 268435456(%rbp,%r14,8), %tmm2
# INTEL: tldexpandwt1 tmm2, [rbp + 8*r14 + 268435456], ecx
0xc4,0xa2,0x71,0x69,0x94,0xf5,0x00,0x00,0x00,0x10

# ATT:   tldexpandwt1 %ecx, 291(%r8,%rax,4), %tmm0
# INTEL: tldexpandwt1 tmm0, [r8 + 4*rax + 291], ecx
0xc4,0xc2,0x71,0x69,0x84,0x80,0x23,0x01,0x00,0x00

# ATT:   tldexpandwt1 %ecx, (%rcx), %tmm2
# INTEL: tldexpandwt1 tmm2, [rcx], ecx
0xc4,0xe2,0x71,0x69,0x14,0x21

# ATT:   tldexpandwt1 %ecx, -32(,%rbp,2), %tmm0
# INTEL: tldexpandwt1 tmm0, [2*rbp - 32], ecx
0xc4,0xe2,0x71,0x69,0x04,0x6d,0xe0,0xff,0xff,0xff


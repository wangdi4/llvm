# REQUIRES: intel_feature_isa_vpinsr_vpextr
# RUN: llvm-mc --disassemble %s -triple=x86_64 | FileCheck %s --check-prefixes=ATT
# RUN: llvm-mc --disassemble %s -triple=x86_64 -x86-asm-syntax=intel --output-asm-variant=1 | FileCheck %s --check-prefixes=INTEL

# isadb version: a01616c03d3a51125c82c4869c7349eef74c79ed

# ATT:   vpextrb $123, %zmm3, %ecx
# INTEL: vpextrb ecx, zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0xd9,0x7b

# ATT:   vpextrb $123, %ymm3, %ecx
# INTEL: vpextrb ecx, ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0xd9,0x7b

# ATT:   vpextrb  $123, %zmm3, 268435456(%rsp,%rsi,8)
# INTEL: vpextrb byte ptr [rsp + 8*rsi + 268435456], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrb  $123, %zmm3, 291(%rdi,%rax,4)
# INTEL: vpextrb byte ptr [rdi + 4*rax + 291], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrb  $123, %zmm3, (%rax)
# INTEL: vpextrb byte ptr [rax], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x18,0x7b

# ATT:   vpextrb  $123, %zmm3, -32(,%rbp,2)
# INTEL: vpextrb byte ptr [2*rbp - 32], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x1c,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpextrb  $123, %zmm3, 127(%rcx)
# INTEL: vpextrb byte ptr [rcx + 127], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x59,0x7f,0x7b

# ATT:   vpextrb  $123, %zmm3, -128(%rdx)
# INTEL: vpextrb byte ptr [rdx - 128], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x5a,0x80,0x7b

# ATT:   vpextrb  $123, %ymm3, 268435456(%rsp,%rsi,8)
# INTEL: vpextrb byte ptr [rsp + 8*rsi + 268435456], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrb  $123, %ymm3, 291(%rdi,%rax,4)
# INTEL: vpextrb byte ptr [rdi + 4*rax + 291], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrb  $123, %ymm3, (%rax)
# INTEL: vpextrb byte ptr [rax], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x18,0x7b

# ATT:   vpextrb  $123, %ymm3, -32(,%rbp,2)
# INTEL: vpextrb byte ptr [2*rbp - 32], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x1c,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpextrb  $123, %ymm3, 127(%rcx)
# INTEL: vpextrb byte ptr [rcx + 127], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x59,0x7f,0x7b

# ATT:   vpextrb  $123, %ymm3, -128(%rdx)
# INTEL: vpextrb byte ptr [rdx - 128], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x5a,0x80,0x7b

# ATT:   vpextrd $123, %ymm3, %ecx
# INTEL: vpextrd ecx, ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0xd9,0x7b

# ATT:   vpextrd $123, %zmm3, %ecx
# INTEL: vpextrd ecx, zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0xd9,0x7b

# ATT:   vpextrd  $123, %ymm3, 268435456(%rsp,%rsi,8)
# INTEL: vpextrd dword ptr [rsp + 8*rsi + 268435456], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrd  $123, %ymm3, 291(%rdi,%rax,4)
# INTEL: vpextrd dword ptr [rdi + 4*rax + 291], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrd  $123, %ymm3, (%rax)
# INTEL: vpextrd dword ptr [rax], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x18,0x7b

# ATT:   vpextrd  $123, %ymm3, -128(,%rbp,2)
# INTEL: vpextrd dword ptr [2*rbp - 128], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x1c,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpextrd  $123, %ymm3, 508(%rcx)
# INTEL: vpextrd dword ptr [rcx + 508], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x59,0x7f,0x7b

# ATT:   vpextrd  $123, %ymm3, -512(%rdx)
# INTEL: vpextrd dword ptr [rdx - 512], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x5a,0x80,0x7b

# ATT:   vpextrd  $123, %zmm3, 268435456(%rsp,%rsi,8)
# INTEL: vpextrd dword ptr [rsp + 8*rsi + 268435456], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrd  $123, %zmm3, 291(%rdi,%rax,4)
# INTEL: vpextrd dword ptr [rdi + 4*rax + 291], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrd  $123, %zmm3, (%rax)
# INTEL: vpextrd dword ptr [rax], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x18,0x7b

# ATT:   vpextrd  $123, %zmm3, -128(,%rbp,2)
# INTEL: vpextrd dword ptr [2*rbp - 128], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x1c,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpextrd  $123, %zmm3, 508(%rcx)
# INTEL: vpextrd dword ptr [rcx + 508], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x59,0x7f,0x7b

# ATT:   vpextrd  $123, %zmm3, -512(%rdx)
# INTEL: vpextrd dword ptr [rdx - 512], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x5a,0x80,0x7b

# ATT:   vpextrw $123, %zmm3, %ecx
# INTEL: vpextrw ecx, zmm3, 123
0x62,0xf1,0x7d,0x48,0xc5,0xcb,0x7b

# ATT:   vpextrw $123, %ymm3, %ecx
# INTEL: vpextrw ecx, ymm3, 123
0x62,0xf1,0x7d,0x28,0xc5,0xcb,0x7b

# ATT:   vpextrw  $123, %ymm3, 268435456(%rsp,%rsi,8)
# INTEL: vpextrw word ptr [rsp + 8*rsi + 268435456], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrw  $123, %ymm3, 291(%rdi,%rax,4)
# INTEL: vpextrw word ptr [rdi + 4*rax + 291], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrw  $123, %ymm3, (%rax)
# INTEL: vpextrw word ptr [rax], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x18,0x7b

# ATT:   vpextrw  $123, %ymm3, -64(,%rbp,2)
# INTEL: vpextrw word ptr [2*rbp - 64], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x1c,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpextrw  $123, %ymm3, 254(%rcx)
# INTEL: vpextrw word ptr [rcx + 254], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x59,0x7f,0x7b

# ATT:   vpextrw  $123, %ymm3, -256(%rdx)
# INTEL: vpextrw word ptr [rdx - 256], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x5a,0x80,0x7b

# ATT:   vpextrw  $123, %zmm3, 268435456(%rsp,%rsi,8)
# INTEL: vpextrw word ptr [rsp + 8*rsi + 268435456], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrw  $123, %zmm3, 291(%rdi,%rax,4)
# INTEL: vpextrw word ptr [rdi + 4*rax + 291], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrw  $123, %zmm3, (%rax)
# INTEL: vpextrw word ptr [rax], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x18,0x7b

# ATT:   vpextrw  $123, %zmm3, -64(,%rbp,2)
# INTEL: vpextrw word ptr [2*rbp - 64], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x1c,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpextrw  $123, %zmm3, 254(%rcx)
# INTEL: vpextrw word ptr [rcx + 254], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x59,0x7f,0x7b

# ATT:   vpextrw  $123, %zmm3, -256(%rdx)
# INTEL: vpextrw word ptr [rdx - 256], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x5a,0x80,0x7b

# ATT:   vpinsrb $123, %ecx, %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, ecx, 123
0x62,0xf3,0x65,0x48,0x20,0xd1,0x7b

# ATT:   vpinsrb $123, %ecx, %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, ecx, 123
0x62,0xf3,0x65,0x28,0x20,0xd1,0x7b

# ATT:   vpinsrb  $123, 268435456(%rsp,%rsi,8), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [rsp + 8*rsi + 268435456], 123
0x62,0xf3,0x65,0x48,0x20,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrb  $123, 291(%rdi,%rax,4), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [rdi + 4*rax + 291], 123
0x62,0xf3,0x65,0x48,0x20,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrb  $123, (%rax), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [rax], 123
0x62,0xf3,0x65,0x48,0x20,0x10,0x7b

# ATT:   vpinsrb  $123, -32(,%rbp,2), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [2*rbp - 32], 123
0x62,0xf3,0x65,0x48,0x20,0x14,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrb  $123, 127(%rcx), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [rcx + 127], 123
0x62,0xf3,0x65,0x48,0x20,0x51,0x7f,0x7b

# ATT:   vpinsrb  $123, -128(%rdx), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [rdx - 128], 123
0x62,0xf3,0x65,0x48,0x20,0x52,0x80,0x7b

# ATT:   vpinsrb  $123, 268435456(%rsp,%rsi,8), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [rsp + 8*rsi + 268435456], 123
0x62,0xf3,0x65,0x28,0x20,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrb  $123, 291(%rdi,%rax,4), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [rdi + 4*rax + 291], 123
0x62,0xf3,0x65,0x28,0x20,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrb  $123, (%rax), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [rax], 123
0x62,0xf3,0x65,0x28,0x20,0x10,0x7b

# ATT:   vpinsrb  $123, -32(,%rbp,2), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [2*rbp - 32], 123
0x62,0xf3,0x65,0x28,0x20,0x14,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrb  $123, 127(%rcx), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [rcx + 127], 123
0x62,0xf3,0x65,0x28,0x20,0x51,0x7f,0x7b

# ATT:   vpinsrb  $123, -128(%rdx), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [rdx - 128], 123
0x62,0xf3,0x65,0x28,0x20,0x52,0x80,0x7b

# ATT:   vpinsrd $123, %ecx, %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, ecx, 123
0x62,0xf3,0x65,0x48,0x22,0xd1,0x7b

# ATT:   vpinsrd $123, %ecx, %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, ecx, 123
0x62,0xf3,0x65,0x28,0x22,0xd1,0x7b

# ATT:   vpinsrd  $123, 268435456(%rsp,%rsi,8), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [rsp + 8*rsi + 268435456], 123
0x62,0xf3,0x65,0x28,0x22,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrd  $123, 291(%rdi,%rax,4), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [rdi + 4*rax + 291], 123
0x62,0xf3,0x65,0x28,0x22,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrd  $123, (%rax), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [rax], 123
0x62,0xf3,0x65,0x28,0x22,0x10,0x7b

# ATT:   vpinsrd  $123, -128(,%rbp,2), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [2*rbp - 128], 123
0x62,0xf3,0x65,0x28,0x22,0x14,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpinsrd  $123, 508(%rcx), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [rcx + 508], 123
0x62,0xf3,0x65,0x28,0x22,0x51,0x7f,0x7b

# ATT:   vpinsrd  $123, -512(%rdx), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [rdx - 512], 123
0x62,0xf3,0x65,0x28,0x22,0x52,0x80,0x7b

# ATT:   vpinsrd  $123, 268435456(%rsp,%rsi,8), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [rsp + 8*rsi + 268435456], 123
0x62,0xf3,0x65,0x48,0x22,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrd  $123, 291(%rdi,%rax,4), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [rdi + 4*rax + 291], 123
0x62,0xf3,0x65,0x48,0x22,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrd  $123, (%rax), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [rax], 123
0x62,0xf3,0x65,0x48,0x22,0x10,0x7b

# ATT:   vpinsrd  $123, -128(,%rbp,2), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [2*rbp - 128], 123
0x62,0xf3,0x65,0x48,0x22,0x14,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpinsrd  $123, 508(%rcx), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [rcx + 508], 123
0x62,0xf3,0x65,0x48,0x22,0x51,0x7f,0x7b

# ATT:   vpinsrd  $123, -512(%rdx), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [rdx - 512], 123
0x62,0xf3,0x65,0x48,0x22,0x52,0x80,0x7b

# ATT:   vpinsrw $123, %ecx, %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, ecx, 123
0x62,0xf1,0x65,0x48,0xc4,0xd1,0x7b

# ATT:   vpinsrw $123, %ecx, %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, ecx, 123
0x62,0xf1,0x65,0x28,0xc4,0xd1,0x7b

# ATT:   vpinsrw  $123, 268435456(%rsp,%rsi,8), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [rsp + 8*rsi + 268435456], 123
0x62,0xf1,0x65,0x28,0xc4,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrw  $123, 291(%rdi,%rax,4), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [rdi + 4*rax + 291], 123
0x62,0xf1,0x65,0x28,0xc4,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrw  $123, (%rax), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [rax], 123
0x62,0xf1,0x65,0x28,0xc4,0x10,0x7b

# ATT:   vpinsrw  $123, -64(,%rbp,2), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [2*rbp - 64], 123
0x62,0xf1,0x65,0x28,0xc4,0x14,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrw  $123, 254(%rcx), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [rcx + 254], 123
0x62,0xf1,0x65,0x28,0xc4,0x51,0x7f,0x7b

# ATT:   vpinsrw  $123, -256(%rdx), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [rdx - 256], 123
0x62,0xf1,0x65,0x28,0xc4,0x52,0x80,0x7b

# ATT:   vpinsrw  $123, 268435456(%rsp,%rsi,8), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [rsp + 8*rsi + 268435456], 123
0x62,0xf1,0x65,0x48,0xc4,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrw  $123, 291(%rdi,%rax,4), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [rdi + 4*rax + 291], 123
0x62,0xf1,0x65,0x48,0xc4,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrw  $123, (%rax), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [rax], 123
0x62,0xf1,0x65,0x48,0xc4,0x10,0x7b

# ATT:   vpinsrw  $123, -64(,%rbp,2), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [2*rbp - 64], 123
0x62,0xf1,0x65,0x48,0xc4,0x14,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrw  $123, 254(%rcx), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [rcx + 254], 123
0x62,0xf1,0x65,0x48,0xc4,0x51,0x7f,0x7b

# ATT:   vpinsrw  $123, -256(%rdx), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [rdx - 256], 123
0x62,0xf1,0x65,0x48,0xc4,0x52,0x80,0x7b


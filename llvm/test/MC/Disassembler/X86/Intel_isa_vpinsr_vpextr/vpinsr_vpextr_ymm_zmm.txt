# REQUIRES: intel_feature_isa_vpinsr_vpextr
# RUN: llvm-mc --disassemble %s -triple=i386 | FileCheck %s --check-prefixes=ATT
# RUN: llvm-mc --disassemble %s -triple=i386 -x86-asm-syntax=intel --output-asm-variant=1 | FileCheck %s --check-prefixes=INTEL

# ATT:   vpextrb $123, %zmm3, %ecx
# INTEL: vpextrb ecx, zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0xd9,0x7b

# ATT:   vpextrb $123, %ymm3, %ecx
# INTEL: vpextrb ecx, ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0xd9,0x7b

# ATT:   vpextrb  $123, %zmm3, 268435456(%esp,%esi,8)
# INTEL: vpextrb byte ptr [esp + 8*esi + 268435456], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrb  $123, %zmm3, 291(%edi,%eax,4)
# INTEL: vpextrb byte ptr [edi + 4*eax + 291], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrb  $123, %zmm3, (%eax)
# INTEL: vpextrb byte ptr [eax], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x18,0x7b

# ATT:   vpextrb  $123, %zmm3, -32(,%ebp,2)
# INTEL: vpextrb byte ptr [2*ebp - 32], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x1c,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpextrb  $123, %zmm3, 127(%ecx)
# INTEL: vpextrb byte ptr [ecx + 127], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x59,0x7f,0x7b

# ATT:   vpextrb  $123, %zmm3, -128(%edx)
# INTEL: vpextrb byte ptr [edx - 128], zmm3, 123
0x62,0xf3,0x7d,0x48,0x14,0x5a,0x80,0x7b

# ATT:   vpextrb  $123, %ymm3, 268435456(%esp,%esi,8)
# INTEL: vpextrb byte ptr [esp + 8*esi + 268435456], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrb  $123, %ymm3, 291(%edi,%eax,4)
# INTEL: vpextrb byte ptr [edi + 4*eax + 291], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrb  $123, %ymm3, (%eax)
# INTEL: vpextrb byte ptr [eax], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x18,0x7b

# ATT:   vpextrb  $123, %ymm3, -32(,%ebp,2)
# INTEL: vpextrb byte ptr [2*ebp - 32], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x1c,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpextrb  $123, %ymm3, 127(%ecx)
# INTEL: vpextrb byte ptr [ecx + 127], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x59,0x7f,0x7b

# ATT:   vpextrb  $123, %ymm3, -128(%edx)
# INTEL: vpextrb byte ptr [edx - 128], ymm3, 123
0x62,0xf3,0x7d,0x28,0x14,0x5a,0x80,0x7b

# ATT:   vpextrd $123, %ymm3, %ecx
# INTEL: vpextrd ecx, ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0xd9,0x7b

# ATT:   vpextrd $123, %zmm3, %ecx
# INTEL: vpextrd ecx, zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0xd9,0x7b

# ATT:   vpextrd  $123, %ymm3, 268435456(%esp,%esi,8)
# INTEL: vpextrd dword ptr [esp + 8*esi + 268435456], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrd  $123, %ymm3, 291(%edi,%eax,4)
# INTEL: vpextrd dword ptr [edi + 4*eax + 291], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrd  $123, %ymm3, (%eax)
# INTEL: vpextrd dword ptr [eax], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x18,0x7b

# ATT:   vpextrd  $123, %ymm3, -128(,%ebp,2)
# INTEL: vpextrd dword ptr [2*ebp - 128], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x1c,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpextrd  $123, %ymm3, 508(%ecx)
# INTEL: vpextrd dword ptr [ecx + 508], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x59,0x7f,0x7b

# ATT:   vpextrd  $123, %ymm3, -512(%edx)
# INTEL: vpextrd dword ptr [edx - 512], ymm3, 123
0x62,0xf3,0x7d,0x28,0x16,0x5a,0x80,0x7b

# ATT:   vpextrd  $123, %zmm3, 268435456(%esp,%esi,8)
# INTEL: vpextrd dword ptr [esp + 8*esi + 268435456], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrd  $123, %zmm3, 291(%edi,%eax,4)
# INTEL: vpextrd dword ptr [edi + 4*eax + 291], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrd  $123, %zmm3, (%eax)
# INTEL: vpextrd dword ptr [eax], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x18,0x7b

# ATT:   vpextrd  $123, %zmm3, -128(,%ebp,2)
# INTEL: vpextrd dword ptr [2*ebp - 128], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x1c,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpextrd  $123, %zmm3, 508(%ecx)
# INTEL: vpextrd dword ptr [ecx + 508], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x59,0x7f,0x7b

# ATT:   vpextrd  $123, %zmm3, -512(%edx)
# INTEL: vpextrd dword ptr [edx - 512], zmm3, 123
0x62,0xf3,0x7d,0x48,0x16,0x5a,0x80,0x7b

# ATT:   vpextrw $123, %zmm3, %ecx
# INTEL: vpextrw ecx, zmm3, 123
0x62,0xf1,0x7d,0x48,0xc5,0xcb,0x7b

# ATT:   vpextrw $123, %ymm3, %ecx
# INTEL: vpextrw ecx, ymm3, 123
0x62,0xf1,0x7d,0x28,0xc5,0xcb,0x7b

# ATT:   vpextrw  $123, %ymm3, 268435456(%esp,%esi,8)
# INTEL: vpextrw word ptr [esp + 8*esi + 268435456], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrw  $123, %ymm3, 291(%edi,%eax,4)
# INTEL: vpextrw word ptr [edi + 4*eax + 291], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrw  $123, %ymm3, (%eax)
# INTEL: vpextrw word ptr [eax], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x18,0x7b

# ATT:   vpextrw  $123, %ymm3, -64(,%ebp,2)
# INTEL: vpextrw word ptr [2*ebp - 64], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x1c,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpextrw  $123, %ymm3, 254(%ecx)
# INTEL: vpextrw word ptr [ecx + 254], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x59,0x7f,0x7b

# ATT:   vpextrw  $123, %ymm3, -256(%edx)
# INTEL: vpextrw word ptr [edx - 256], ymm3, 123
0x62,0xf3,0x7d,0x28,0x15,0x5a,0x80,0x7b

# ATT:   vpextrw  $123, %zmm3, 268435456(%esp,%esi,8)
# INTEL: vpextrw word ptr [esp + 8*esi + 268435456], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x9c,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpextrw  $123, %zmm3, 291(%edi,%eax,4)
# INTEL: vpextrw word ptr [edi + 4*eax + 291], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x9c,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpextrw  $123, %zmm3, (%eax)
# INTEL: vpextrw word ptr [eax], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x18,0x7b

# ATT:   vpextrw  $123, %zmm3, -64(,%ebp,2)
# INTEL: vpextrw word ptr [2*ebp - 64], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x1c,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpextrw  $123, %zmm3, 254(%ecx)
# INTEL: vpextrw word ptr [ecx + 254], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x59,0x7f,0x7b

# ATT:   vpextrw  $123, %zmm3, -256(%edx)
# INTEL: vpextrw word ptr [edx - 256], zmm3, 123
0x62,0xf3,0x7d,0x48,0x15,0x5a,0x80,0x7b

# ATT:   vpinsrb $123, %ecx, %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, ecx, 123
0x62,0xf3,0x65,0x48,0x20,0xd1,0x7b

# ATT:   vpinsrb $123, %ecx, %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, ecx, 123
0x62,0xf3,0x65,0x28,0x20,0xd1,0x7b

# ATT:   vpinsrb  $123, 268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [esp + 8*esi + 268435456], 123
0x62,0xf3,0x65,0x48,0x20,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrb  $123, 291(%edi,%eax,4), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [edi + 4*eax + 291], 123
0x62,0xf3,0x65,0x48,0x20,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrb  $123, (%eax), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [eax], 123
0x62,0xf3,0x65,0x48,0x20,0x10,0x7b

# ATT:   vpinsrb  $123, -32(,%ebp,2), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [2*ebp - 32], 123
0x62,0xf3,0x65,0x48,0x20,0x14,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrb  $123, 127(%ecx), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [ecx + 127], 123
0x62,0xf3,0x65,0x48,0x20,0x51,0x7f,0x7b

# ATT:   vpinsrb  $123, -128(%edx), %zmm3, %zmm2
# INTEL: vpinsrb zmm2, zmm3, byte ptr [edx - 128], 123
0x62,0xf3,0x65,0x48,0x20,0x52,0x80,0x7b

# ATT:   vpinsrb  $123, 268435456(%esp,%esi,8), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [esp + 8*esi + 268435456], 123
0x62,0xf3,0x65,0x28,0x20,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrb  $123, 291(%edi,%eax,4), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [edi + 4*eax + 291], 123
0x62,0xf3,0x65,0x28,0x20,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrb  $123, (%eax), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [eax], 123
0x62,0xf3,0x65,0x28,0x20,0x10,0x7b

# ATT:   vpinsrb  $123, -32(,%ebp,2), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [2*ebp - 32], 123
0x62,0xf3,0x65,0x28,0x20,0x14,0x6d,0xe0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrb  $123, 127(%ecx), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [ecx + 127], 123
0x62,0xf3,0x65,0x28,0x20,0x51,0x7f,0x7b

# ATT:   vpinsrb  $123, -128(%edx), %ymm3, %ymm2
# INTEL: vpinsrb ymm2, ymm3, byte ptr [edx - 128], 123
0x62,0xf3,0x65,0x28,0x20,0x52,0x80,0x7b

# ATT:   vpinsrd $123, %ecx, %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, ecx, 123
0x62,0xf3,0x65,0x48,0x22,0xd1,0x7b

# ATT:   vpinsrd $123, %ecx, %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, ecx, 123
0x62,0xf3,0x65,0x28,0x22,0xd1,0x7b

# ATT:   vpinsrd  $123, 268435456(%esp,%esi,8), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [esp + 8*esi + 268435456], 123
0x62,0xf3,0x65,0x28,0x22,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrd  $123, 291(%edi,%eax,4), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [edi + 4*eax + 291], 123
0x62,0xf3,0x65,0x28,0x22,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrd  $123, (%eax), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [eax], 123
0x62,0xf3,0x65,0x28,0x22,0x10,0x7b

# ATT:   vpinsrd  $123, -128(,%ebp,2), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [2*ebp - 128], 123
0x62,0xf3,0x65,0x28,0x22,0x14,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpinsrd  $123, 508(%ecx), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [ecx + 508], 123
0x62,0xf3,0x65,0x28,0x22,0x51,0x7f,0x7b

# ATT:   vpinsrd  $123, -512(%edx), %ymm3, %ymm2
# INTEL: vpinsrd ymm2, ymm3, dword ptr [edx - 512], 123
0x62,0xf3,0x65,0x28,0x22,0x52,0x80,0x7b

# ATT:   vpinsrd  $123, 268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [esp + 8*esi + 268435456], 123
0x62,0xf3,0x65,0x48,0x22,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrd  $123, 291(%edi,%eax,4), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [edi + 4*eax + 291], 123
0x62,0xf3,0x65,0x48,0x22,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrd  $123, (%eax), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [eax], 123
0x62,0xf3,0x65,0x48,0x22,0x10,0x7b

# ATT:   vpinsrd  $123, -128(,%ebp,2), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [2*ebp - 128], 123
0x62,0xf3,0x65,0x48,0x22,0x14,0x6d,0x80,0xff,0xff,0xff,0x7b

# ATT:   vpinsrd  $123, 508(%ecx), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [ecx + 508], 123
0x62,0xf3,0x65,0x48,0x22,0x51,0x7f,0x7b

# ATT:   vpinsrd  $123, -512(%edx), %zmm3, %zmm2
# INTEL: vpinsrd zmm2, zmm3, dword ptr [edx - 512], 123
0x62,0xf3,0x65,0x48,0x22,0x52,0x80,0x7b

# ATT:   vpinsrw $123, %ecx, %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, ecx, 123
0x62,0xf1,0x65,0x48,0xc4,0xd1,0x7b

# ATT:   vpinsrw $123, %ecx, %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, ecx, 123
0x62,0xf1,0x65,0x28,0xc4,0xd1,0x7b

# ATT:   vpinsrw  $123, 268435456(%esp,%esi,8), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [esp + 8*esi + 268435456], 123
0x62,0xf1,0x65,0x28,0xc4,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrw  $123, 291(%edi,%eax,4), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [edi + 4*eax + 291], 123
0x62,0xf1,0x65,0x28,0xc4,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrw  $123, (%eax), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [eax], 123
0x62,0xf1,0x65,0x28,0xc4,0x10,0x7b

# ATT:   vpinsrw  $123, -64(,%ebp,2), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [2*ebp - 64], 123
0x62,0xf1,0x65,0x28,0xc4,0x14,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrw  $123, 254(%ecx), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [ecx + 254], 123
0x62,0xf1,0x65,0x28,0xc4,0x51,0x7f,0x7b

# ATT:   vpinsrw  $123, -256(%edx), %ymm3, %ymm2
# INTEL: vpinsrw ymm2, ymm3, word ptr [edx - 256], 123
0x62,0xf1,0x65,0x28,0xc4,0x52,0x80,0x7b

# ATT:   vpinsrw  $123, 268435456(%esp,%esi,8), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [esp + 8*esi + 268435456], 123
0x62,0xf1,0x65,0x48,0xc4,0x94,0xf4,0x00,0x00,0x00,0x10,0x7b

# ATT:   vpinsrw  $123, 291(%edi,%eax,4), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [edi + 4*eax + 291], 123
0x62,0xf1,0x65,0x48,0xc4,0x94,0x87,0x23,0x01,0x00,0x00,0x7b

# ATT:   vpinsrw  $123, (%eax), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [eax], 123
0x62,0xf1,0x65,0x48,0xc4,0x10,0x7b

# ATT:   vpinsrw  $123, -64(,%ebp,2), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [2*ebp - 64], 123
0x62,0xf1,0x65,0x48,0xc4,0x14,0x6d,0xc0,0xff,0xff,0xff,0x7b

# ATT:   vpinsrw  $123, 254(%ecx), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [ecx + 254], 123
0x62,0xf1,0x65,0x48,0xc4,0x51,0x7f,0x7b

# ATT:   vpinsrw  $123, -256(%edx), %zmm3, %zmm2
# INTEL: vpinsrw zmm2, zmm3, word ptr [edx - 256], 123
0x62,0xf1,0x65,0x48,0xc4,0x52,0x80,0x7b


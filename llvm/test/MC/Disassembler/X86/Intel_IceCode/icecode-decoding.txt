# REQUIRES: intel_feature_icecode
# RUN: llvm-mc -triple x86_icecode-unknown-unknown --disassemble < %s  | FileCheck %s

# CHECK: gmovpphysw (%rdx), %ax
0x66,0xf3,0x0f,0xb4,0x02

# CHECK: gmovpphysl (%rdx), %eax
0xf3,0x0f,0xb4,0x02

# CHECK: gmovpphysq (%rdx), %rax
0xf3,0x48,0x0f,0xb4,0x02

# CHECK: gmovpphysw %ax, (%rdx)
0x66,0xf2,0x0f,0xb4,0x02

# CHECK: gmovpphysl %eax, (%rdx)
0xf2,0x0f,0xb4,0x02

# CHECK: gmovpphysq %rax, (%rdx)
0xf2,0x48,0x0f,0xb4,0x02

# CHECK: loadseg %cs:(%rdx)
0x2e,0x0f,0xb2,0x02

# CHECK: loadseg %ss:(%rdx)
0x36,0x0f,0xb2,0x02

# CHECK: loadseg %ds:(%rdx)
0x3e,0x0f,0xb2,0x02

# CHECK: loadseg %es:(%rdx)
0x26,0x0f,0xb2,0x02

# CHECK: loadseg %fs:(%rdx)
0x64,0x0f,0xb2,0x02

# CHECK: loadseg %gs:(%rdx)
0x65,0x0f,0xb2,0x02

# CHECK: storeseg %cs:(%rdx)
0x2e,0x66,0x0f,0xb2,0x02

# CHECK: storeseg %ss:(%rdx)
0x36,0x66,0x0f,0xb2,0x02

# CHECK: storeseg %ds:(%rdx)
0x3e,0x66,0x0f,0xb2,0x02

# CHECK: storeseg %es:(%rdx)
0x26,0x66,0x0f,0xb2,0x02

# CHECK: storeseg %fs:(%rdx)
0x64,0x66,0x0f,0xb2,0x02

# CHECK: storeseg %gs:(%rdx)
0x65,0x66,0x0f,0xb2,0x02

# CHECK: gtranslaterd_epc (%rdx)
0xf3,0x0f,0x00,0x22

# CHECK: gtranslatewr_epc (%rdx)
0xf2,0x0f,0x00,0x22

# CHECK: gtranslaterd_noepc (%rdx)
0xf3,0x0f,0x00,0x2a

# CHECK: gtranslatewr_noepc (%rdx)
0xf2,0x0f,0x00,0x2a

# CHECK: bcast_seg_state
0xf3,0x0f,0x01,0xef

# CHECK: creg_xchgl %eax, %ebx
0xf3,0x01,0xc3

# CHECK: creg_xchgq %eax, %rbx
0xf3,0x48,0x01,0xc3

# CHECK: creg_readl %eax, %ebx
0xf3,0x29,0xc3

# CHECK: creg_readq %eax, %rbx
0xf3,0x48,0x29,0xc3

# CHECK: fscp_xchgl %eax, %ebx
0xf3,0x21,0xc3

# CHECK: fscp_xchgq %eax, %rbx
0xf3,0x48,0x21,0xc3

# CHECK: fscp_readl %eax, %ebx
0xf3,0x09,0xc3

# CHECK: fscp_readq %eax, %rbx
0xf3,0x48,0x09,0xc3

# CHECK: creg_xchgl $16909060, %ebx
0xf3,0x81,0xc3,0x04,0x03,0x02,0x01

# CHECK: creg_xchgq $16909060, %rbx
0xf3,0x48,0x81,0xc3,0x04,0x03,0x02,0x01

# CHECK: creg_readl $16909060, %ebx
0xf3,0x81,0xeb,0x04,0x03,0x02,0x01

# CHECK: creg_readq $16909060, %rbx
0xf3,0x48,0x81,0xeb,0x04,0x03,0x02,0x01

# CHECK: fscp_xchgl $16909060, %ebx
0xf3,0x81,0xe3,0x04,0x03,0x02,0x01

# CHECK: fscp_xchgq $16909060, %rbx
0xf3,0x48,0x81,0xe3,0x04,0x03,0x02,0x01

# CHECK: fscp_readl $16909060, %ebx
0xf3,0x81,0xcb,0x04,0x03,0x02,0x01

# CHECK: fscp_readq $16909060, %rbx
0xf3,0x48,0x81,0xcb,0x04,0x03,0x02,0x01

# CHECK: creg_xchg_mtl %eax, %ebx
0xf2,0x01,0xc3

# CHECK: creg_xchg_mtq %eax, %rbx
0xf2,0x48,0x01,0xc3

# CHECK: creg_read_mtl %eax, %ebx
0xf2,0x29,0xc3

# CHECK: creg_read_mtq %eax, %rbx
0xf2,0x48,0x29,0xc3

# CHECK: portinb (%ebx), %al
0xf3,0x8a,0x03

# CHECK: portinw (%ebx), %ax
0x66,0xf3,0x8b,0x03

# CHECK: portinl (%ebx), %eax
0xf3,0x8b,0x03

# CHECK: portinq (%ebx), %rax
0xf3,0x48,0x8b,0x03

# CHECK: portoutb %al, (%ebx)
0xf3,0x88,0x03

# CHECK: portoutw %ax, (%ebx)
0x66,0xf3,0x89,0x03

# CHECK: portoutl %eax, (%ebx)
0xf3,0x89,0x03

# CHECK: portoutq %rax, (%ebx)
0xf3,0x48,0x89,0x03

# CHECK: sta_special (%eax)
0xf3,0x8f,0x00

# CHECK: nr_read $6, %eax
0xf3,0x83,0xf0,0x06

# CHECK: sigeventjump $33, %ebx
0xf3,0x81,0xd3,0x21,0x00,0x00,0x00

# CHECK: sserialize
0x0f,0x01,0xd4

# CHECK: ucodecall %eax
0x0f,0x22,0xc0

# CHECK: nop_set_sb
0x27

# CHECK: nop_read_sb
0x2f

# CHECK: get_excl_acc
0xfc

# CHECK: release_excl_acc
0xfd

# CHECK: virt_nuke_point
0x0f,0x01,0xd5

# CHECK: int_trap_point
0x0f,0x01,0xd0

# CHECK: iceret %eax
0x0f,0xaa

# CHECK: iceret_indirect %ebx, %eax
0xf3,0x0f,0xaa

# CHECK: cmodemov $0, %rax, %rbx
0xf3,0x0f,0x40,0xd8

# CHECK: cmodemov $1, %rax, %rbx
0xf3,0x0f,0x41,0xd8

# CHECK: cmodemov $3, %rax, %rbx
0xf3,0x0f,0x43,0xd8

# CHECK: cmodemov $4, %rax, %rbx
0xf3,0x0f,0x44,0xd8

# CHECK: cmodemov $5, %rax, %rbx
0xf3,0x0f,0x45,0xd8

# CHECK: cmodemov $6, %rax, %rbx
0xf3,0x0f,0x46,0xd8

# CHECK: cmodemov $7, %rax, %rbx
0xf3,0x0f,0x47,0xd8

# CHECK: cmodemov $8, %rax, %rbx
0xf3,0x0f,0x48,0xd8

# CHECK: cmodemov $9, %rax, %rbx
0xf3,0x0f,0x49,0xd8

# CHECK: cmodemov $10, %rax, %rbx
0xf3,0x0f,0x4a,0xd8

# CHECK: cmodemov $11, %rax, %rbx
0xf3,0x0f,0x4b,0xd8

# CHECK: cmodemov $12, %rax, %rbx
0xf3,0x0f,0x4c,0xd8

# CHECK: cmodemov $13, %rax, %rbx
0xf3,0x0f,0x4d,0xd8

# CHECK: cmodemov $14, %rax, %rbx
0xf3,0x0f,0x4e,0xd8

# CHECK: cmodemov $15, %rax, %rbx
0xf3,0x0f,0x4f,0xd8

# CHECK: settracker $1
0xf3,0x6a,0x01

# CHECK: portin24
0xf2,0xad

# CHECK: portout24
0xf2,0xab

# CHECK: load_tickle_gpa
0x0f,0x01,0xca

# CHECK: store_tickle_gpa
0x0f,0x01,0xcb

# CHECK: flush_ifu
0xf3,0x0f,0x01,0xd4

# CHECK: gmovlinw (%rdx), %ax
0x66,0xf3,0x0f,0x02,0x02

# CHECK: gmovlinl (%rdx), %eax
0xf3,0x0f,0x02,0x02

# CHECK: gmovlinq (%rdx), %rax
0xf3,0x48,0x0f,0x02,0x02

# CHECK: gmovlinw %ax, (%rdx)
0x66,0xf2,0x0f,0x02,0x02

# CHECK: gmovlinl %eax, (%rdx)
0xf2,0x0f,0x02,0x02

# CHECK: gmovlinq %rax, (%rdx)
0xf2,0x48,0x0f,0x02,0x02

# CHECK: movl %es:(%rsi), %eax
0x26,0x8b,0x06

# CHECK: movl %cs:(%rsi), %eax
0x2e,0x8b,0x06

# CHECK: movl %ss:(%rsi), %eax
0x36,0x8b,0x06

# CHECK: movl %ds:(%rsi), %eax
0x3e,0x8b,0x06

# CHECK: movl %fs:(%rsi), %eax
0x64,0x8b,0x06

# CHECK: movl %gs:(%rsi), %eax
0x65,0x8b,0x06

# CHECK: movl %gdtr:(%rsi), %eax
0x26,0xf2,0x8b,0x06

# CHECK: movl %ldtr:(%rsi), %eax
0x2e,0xf2,0x8b,0x06

# CHECK: movl %idtr:(%rsi), %eax
0x36,0xf2,0x8b,0x06

# CHECK: movl %tr:(%rsi), %eax
0x3e,0xf2,0x8b,0x06

# CHECK: movl %linseg_nosupovr:(%rsi), %eax
0x64,0xf2,0x8b,0x06

# CHECK: movl %linseg_supovr:(%rsi), %eax
0x65,0xf2,0x8b,0x06

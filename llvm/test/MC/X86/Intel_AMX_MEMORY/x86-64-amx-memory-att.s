// REQUIRES: intel_feature_isa_amx_memory
// RUN: llvm-mc -triple x86_64-unknown-unknown --show-encoding %s | FileCheck %s

// CHECK: tgatherrowd 268435456(%rbp,%r14,8), %tmm6
// CHECK: encoding: [0xc4,0xa2,0x7b,0x6a,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tgatherrowd 268435456(%rbp,%r14,8), %tmm6

// CHECK: tgatherrowd 291(%r8,%rax,4), %tmm3
// CHECK: encoding: [0xc4,0xc2,0x7b,0x6a,0x9c,0x80,0x23,0x01,0x00,0x00]
          tgatherrowd 291(%r8,%rax,4), %tmm3

// CHECK: tgatherrowd (%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6a,0x34,0x21]
          tgatherrowd (%rcx), %tmm6

// CHECK: tgatherrowd -8(,%rbp,2), %tmm3
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6a,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tgatherrowd -8(,%rbp,2), %tmm3

// CHECK: tgatherrowd 31(%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6a,0x74,0x21,0x1f]
          tgatherrowd 31(%rcx), %tmm6

// CHECK: tgatherrowd -32(%rdx), %tmm3
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6a,0x5c,0x22,0xe0]
          tgatherrowd -32(%rdx), %tmm3

// CHECK: tgatherrowdt1 268435456(%rbp,%r14,8), %tmm6
// CHECK: encoding: [0xc4,0xa2,0x7b,0x6b,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tgatherrowdt1 268435456(%rbp,%r14,8), %tmm6

// CHECK: tgatherrowdt1 291(%r8,%rax,4), %tmm3
// CHECK: encoding: [0xc4,0xc2,0x7b,0x6b,0x9c,0x80,0x23,0x01,0x00,0x00]
          tgatherrowdt1 291(%r8,%rax,4), %tmm3

// CHECK: tgatherrowdt1 (%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6b,0x34,0x21]
          tgatherrowdt1 (%rcx), %tmm6

// CHECK: tgatherrowdt1 -8(,%rbp,2), %tmm3
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6b,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tgatherrowdt1 -8(,%rbp,2), %tmm3

// CHECK: tgatherrowdt1 31(%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6b,0x74,0x21,0x1f]
          tgatherrowdt1 31(%rcx), %tmm6

// CHECK: tgatherrowdt1 -32(%rdx), %tmm3
// CHECK: encoding: [0xc4,0xe2,0x7b,0x6b,0x5c,0x22,0xe0]
          tgatherrowdt1 -32(%rdx), %tmm3

// CHECK: tgatherrowq 268435456(%rbp,%r14,8), %tmm6
// CHECK: encoding: [0xc4,0xa2,0xfb,0x6a,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tgatherrowq 268435456(%rbp,%r14,8), %tmm6

// CHECK: tgatherrowq 291(%r8,%rax,4), %tmm3
// CHECK: encoding: [0xc4,0xc2,0xfb,0x6a,0x9c,0x80,0x23,0x01,0x00,0x00]
          tgatherrowq 291(%r8,%rax,4), %tmm3

// CHECK: tgatherrowq (%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6a,0x34,0x21]
          tgatherrowq (%rcx), %tmm6

// CHECK: tgatherrowq -8(,%rbp,2), %tmm3
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6a,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tgatherrowq -8(,%rbp,2), %tmm3

// CHECK: tgatherrowq 31(%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6a,0x74,0x21,0x1f]
          tgatherrowq 31(%rcx), %tmm6

// CHECK: tgatherrowq -32(%rdx), %tmm3
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6a,0x5c,0x22,0xe0]
          tgatherrowq -32(%rdx), %tmm3

// CHECK: tgatherrowqt1 268435456(%rbp,%r14,8), %tmm6
// CHECK: encoding: [0xc4,0xa2,0xfb,0x6b,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tgatherrowqt1 268435456(%rbp,%r14,8), %tmm6

// CHECK: tgatherrowqt1 291(%r8,%rax,4), %tmm3
// CHECK: encoding: [0xc4,0xc2,0xfb,0x6b,0x9c,0x80,0x23,0x01,0x00,0x00]
          tgatherrowqt1 291(%r8,%rax,4), %tmm3

// CHECK: tgatherrowqt1 (%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6b,0x34,0x21]
          tgatherrowqt1 (%rcx), %tmm6

// CHECK: tgatherrowqt1 -8(,%rbp,2), %tmm3
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6b,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tgatherrowqt1 -8(,%rbp,2), %tmm3

// CHECK: tgatherrowqt1 31(%rcx), %tmm6
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6b,0x74,0x21,0x1f]
          tgatherrowqt1 31(%rcx), %tmm6

// CHECK: tgatherrowqt1 -32(%rdx), %tmm3
// CHECK: encoding: [0xc4,0xe2,0xfb,0x6b,0x5c,0x22,0xe0]
          tgatherrowqt1 -32(%rdx), %tmm3

// CHECK: tscatterrowd %tmm6, 268435456(%rbp,%r14,8)
// CHECK: encoding: [0xc4,0xa2,0x7a,0x6a,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tscatterrowd %tmm6, 268435456(%rbp,%r14,8)

// CHECK: tscatterrowd %tmm3, 291(%r8,%rax,4)
// CHECK: encoding: [0xc4,0xc2,0x7a,0x6a,0x9c,0x80,0x23,0x01,0x00,0x00]
          tscatterrowd %tmm3, 291(%r8,%rax,4)

// CHECK: tscatterrowd %tmm6, (%rcx)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6a,0x34,0x21]
          tscatterrowd %tmm6, (%rcx)

// CHECK: tscatterrowd %tmm3, -8(,%rbp,2)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6a,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tscatterrowd %tmm3, -8(,%rbp,2)

// CHECK: tscatterrowd %tmm6, 31(%rcx)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6a,0x74,0x21,0x1f]
          tscatterrowd %tmm6, 31(%rcx)

// CHECK: tscatterrowd %tmm3, -32(%rdx)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6a,0x5c,0x22,0xe0]
          tscatterrowd %tmm3, -32(%rdx)

// CHECK: tscatterrowdt1 %tmm6, 268435456(%rbp,%r14,8)
// CHECK: encoding: [0xc4,0xa2,0x7a,0x6b,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tscatterrowdt1 %tmm6, 268435456(%rbp,%r14,8)

// CHECK: tscatterrowdt1 %tmm3, 291(%r8,%rax,4)
// CHECK: encoding: [0xc4,0xc2,0x7a,0x6b,0x9c,0x80,0x23,0x01,0x00,0x00]
          tscatterrowdt1 %tmm3, 291(%r8,%rax,4)

// CHECK: tscatterrowdt1 %tmm6, (%rcx)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6b,0x34,0x21]
          tscatterrowdt1 %tmm6, (%rcx)

// CHECK: tscatterrowdt1 %tmm3, -8(,%rbp,2)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6b,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tscatterrowdt1 %tmm3, -8(,%rbp,2)

// CHECK: tscatterrowdt1 %tmm6, 31(%rcx)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6b,0x74,0x21,0x1f]
          tscatterrowdt1 %tmm6, 31(%rcx)

// CHECK: tscatterrowdt1 %tmm3, -32(%rdx)
// CHECK: encoding: [0xc4,0xe2,0x7a,0x6b,0x5c,0x22,0xe0]
          tscatterrowdt1 %tmm3, -32(%rdx)

// CHECK: tscatterrowq %tmm6, 268435456(%rbp,%r14,8)
// CHECK: encoding: [0xc4,0xa2,0xfa,0x6a,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tscatterrowq %tmm6, 268435456(%rbp,%r14,8)

// CHECK: tscatterrowq %tmm3, 291(%r8,%rax,4)
// CHECK: encoding: [0xc4,0xc2,0xfa,0x6a,0x9c,0x80,0x23,0x01,0x00,0x00]
          tscatterrowq %tmm3, 291(%r8,%rax,4)

// CHECK: tscatterrowq %tmm6, (%rcx)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6a,0x34,0x21]
          tscatterrowq %tmm6, (%rcx)

// CHECK: tscatterrowq %tmm3, -8(,%rbp,2)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6a,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tscatterrowq %tmm3, -8(,%rbp,2)

// CHECK: tscatterrowq %tmm6, 31(%rcx)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6a,0x74,0x21,0x1f]
          tscatterrowq %tmm6, 31(%rcx)

// CHECK: tscatterrowq %tmm3, -32(%rdx)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6a,0x5c,0x22,0xe0]
          tscatterrowq %tmm3, -32(%rdx)

// CHECK: tscatterrowqt1 %tmm6, 268435456(%rbp,%r14,8)
// CHECK: encoding: [0xc4,0xa2,0xfa,0x6b,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tscatterrowqt1 %tmm6, 268435456(%rbp,%r14,8)

// CHECK: tscatterrowqt1 %tmm3, 291(%r8,%rax,4)
// CHECK: encoding: [0xc4,0xc2,0xfa,0x6b,0x9c,0x80,0x23,0x01,0x00,0x00]
          tscatterrowqt1 %tmm3, 291(%r8,%rax,4)

// CHECK: tscatterrowqt1 %tmm6, (%rcx)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6b,0x34,0x21]
          tscatterrowqt1 %tmm6, (%rcx)

// CHECK: tscatterrowqt1 %tmm3, -8(,%rbp,2)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6b,0x1c,0x6d,0xf8,0xff,0xff,0xff]
          tscatterrowqt1 %tmm3, -8(,%rbp,2)

// CHECK: tscatterrowqt1 %tmm6, 31(%rcx)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6b,0x74,0x21,0x1f]
          tscatterrowqt1 %tmm6, 31(%rcx)

// CHECK: tscatterrowqt1 %tmm3, -32(%rdx)
// CHECK: encoding: [0xc4,0xe2,0xfa,0x6b,0x5c,0x22,0xe0]
          tscatterrowqt1 %tmm3, -32(%rdx)

// CHECK: tstorentd %tmm6, 268435456(%rbp,%r14,8)
// CHECK: encoding: [0xc4,0xa5,0x78,0xed,0xb4,0xf5,0x00,0x00,0x00,0x10]
          tstorentd %tmm6, 268435456(%rbp,%r14,8)

// CHECK: tstorentd %tmm3, 291(%r8,%rax,4)
// CHECK: encoding: [0xc4,0xc5,0x78,0xed,0x9c,0x80,0x23,0x01,0x00,0x00]
          tstorentd %tmm3, 291(%r8,%rax,4)

// CHECK: tstorentd %tmm6, (%rcx)
// CHECK: encoding: [0xc4,0xe5,0x78,0xed,0x34,0x21]
          tstorentd %tmm6, (%rcx)

// CHECK: tstorentd %tmm3, -32(,%rbp,2)
// CHECK: encoding: [0xc4,0xe5,0x78,0xed,0x1c,0x6d,0xe0,0xff,0xff,0xff]
          tstorentd %tmm3, -32(,%rbp,2)


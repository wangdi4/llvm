# INTEL_FEATURE_CPU_RYL
# REQUIRES: intel_feature_cpu_ryl
# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -mcpu=royal -all-views=false -summary-view < %s | FileCheck %s

# Issue #57548

# Do not crash when simulating instructions that consume partially overlapping
# resource groups.

vpsllw %xmm1, %ymm0, %ymm0
vpsllw %xmm1, %xmm2, %xmm1
vpand %ymm1, %ymm0, %ymm0

# CHECK:      Iterations:        100
# CHECK-NEXT: Instructions:      300
# CHECK-NEXT: Total Cycles:      303
# CHECK-NEXT: Total uOps:        500

# CHECK:      Dispatch Width:    10
# CHECK-NEXT: uOps Per Cycle:    1.65
# CHECK-NEXT: IPC:               0.99
# CHECK-NEXT: Block RThroughput: 1.0
# end INTEL_FEATURE_CPU_RYL

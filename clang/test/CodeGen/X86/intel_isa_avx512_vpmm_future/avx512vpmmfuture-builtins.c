// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// REQUIRES: intel_feature_isa_avx512_vpmm
// RUN: %clang_cc1 -flax-vector-conversions=none -ffreestanding %s -triple=x86_64-linux-gnu -target-feature +avx512vpmm -emit-llvm -o - -Wall -Werror | FileCheck %s

#include <immintrin.h>

void test_mm512_vmmxf16_ps(__m512 *HighPtr, __m512 *LowPtr,
                           __m512h Src1, __m512h Src2) {
// CHECK-LABEL: @test_mm512_vmmxf16_ps(
// CHECK: call { <16 x float>, <16 x float> } @llvm.x86.vpmm.vmmxf16ps.512(<16 x float> {{%.*}}, <16 x float> {{%.*}}, <32 x half> {{%.*}}, <32 x half> {{%.*}})
  _mm512_vmmxf16_ps(LowPtr, HighPtr, Src1, Src2, *LowPtr, *HighPtr);
}

__m512 test_mm512_vmmif16_ps(__m512h Src1, __m512h Src2, __m512 SrcDst) {
// CHECK-LABEL: @test_mm512_vmmif16_ps(
// CHECK: call <16 x float> @llvm.x86.vpmm.vmmif16ps.512(<16 x float> {{%.*}}, <32 x half> {{%.*}}, <32 x half> {{%.*}}, i32 0)
  return _mm512_vmmif16_ps(Src1, Src2, SrcDst, 0);
}
